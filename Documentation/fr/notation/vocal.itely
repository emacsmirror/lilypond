@c -*- coding: utf-8; mode: texinfo; documentlanguage: fr -*-

@ignore
   Translation of GIT committish: 467b57a5e9a012d9ecbca354dfe137cedfbc7b86

   When revising a translation, copy the HEAD committish of the
   version that you are working on.  For details, see the Contributors'
   Guide, node Updating translation committishes..
@end ignore

@c \version "2.25.3"

@c Translators: Valentin Villenave, Jean-Charles Malahieude
@c Translation checkers: Jean-Jacques Gerbaud


@node Vocal music
@anchor{Specialist notation} @c retain old label
@chapter Musique vocale

@lilypondfile[quote]{snippets/vocal-headword.ly}

Ce chapitre traite de la musique vocale : comment la saisir et comment
s'assurer que les paroles s'alignent avec les notes de la mélodie
correspondante.


@node Common notation for vocal music
@section Vue d'ensemble de la musique vocale

En complément de généralités, ce sous-chapitre aborde quelques styles
particuliers en terme de musique vocale.


@node References for vocal music and lyrics
@subsection Références en matière de musique vocale

Graver de la musique vocale soulève plusieurs problèmes ; ils
sont abordés soit dans ce chapitre, soit dans d'autres parties de la
documentation de LilyPond.

@itemize
@item
La plupart du temps, les paroles ne sont constituées que de texte
simple.  Cette forme de notation est abordée dans
@rlearningnamed{Setting simple songs,@'Ecriture de chants simples}.

@item
La musique vocale nécessite souvent de recourir au mode @code{markup},
aussi bien pour des paroles que pour d'autres éléments textuels comme le
nom des personnages.  Cette syntaxe est expliquée dans
@ref{Text markup introduction}.

@item
L'impression d'un @emph{ambitus} -- ou tessiture -- que l'on trouve en
tête de certaines partitions, est abordée dans @ref{Ambitus}.

@item
Les indications de nuance viennent, par défaut, se placer sous la
portée. Il en va différemment pour la musique vocale, de telle sorte
qu'elles ne soient pas mélangées avec les paroles.  Ceci fait l'objet de
la rubrique @ref{Score layouts for choral}.

@end itemize

@morerefs
Glossaire musicologique :
@rglos{ambitus}.

Manuel d'initiation :
@rlearningnamed{Setting simple songs,@'Ecriture de chants simples}.

Manuel de notation :
@ref{Ambitus},
@ref{Text markup introduction},
@ref{Score layouts for choral}.

Morceaux choisis :
@rlsrnamed{Vocal music,Musique vocale}.
@endmorerefs


@node Entering lyrics
@subsection Saisie des paroles

@cindex paroles
@cindex ponctuation
@cindex espace, dans les paroles
@cindex guillemets, dans les paroles
@cindex paroles, mise en forme
@cindex ponctuation et paroles
@funindex \lyricmode

@c TODO should we explain hyphens here

Il existe un mode de saisie spécialement adapté aux paroles.  On
l'introduit avec le mot-clé @code{\lyricmode}, ou en utilisant
@code{\addlyrics} ou @code{\lyricsto}.  Ce mode permet de saisir
des paroles ainsi que leur ponctuation, de telle sorte que le
caractère @code{a} ne sera plus interprété comme une note, un
@notation{la} pour les latinistes, mais comme une syllabe.  Les
syllabes sont saisies comme des notes, mais les hauteurs sont alors
remplacées par du texte.  Exemple avec une comptine anglaise :

@example
\lyricmode @{ Three4 blind mice,2 three4 blind mice2 @}
@end example

Il y a deux manières principales de préciser la place exacte des
syllabes : soit en spécifiant explicitement la durée de chaque
syllabe -- comme dans l'exemple ci-dessus -- soit en alignant
automatiquement les paroles sur les notes d'une mélodie ou d'une voix en
utilisant @code{\addlyrics} ou @code{\lyricsto}.  La première méthode
est abordée plus en détail à la rubrique
@ref{Manual syllable durations}, la deuxième à la rubrique
@ref{Automatic syllable durations}.

Dans les paroles, un mot ou une syllabe commence par une lettre de
l'alphabet, et se termine par une espace.  Toute syllabe doit donc être
séparée d'une autre par une espace, tout autre caractère -- chiffre ou
ponctuation -- étant considéré comme partie intégrante de cette même
syllabe.  L'exemple suivant comporte une faute de frappe évidente :

@example
\lyricmode @{ lah lah lah@}
@end example

@noindent
la dernière syllabe contient une @code{@}} ; il y a de fait un
défaut de parité avec l'accolade ouvrante, et la compilation échouera
fort probablement.  Prenez dès à présent l'habitude de toujours encadrer
d'espaces une accolade :

@example
\lyricmode @{ lah lah lah @}
@end example

Pour utiliser des lettres accentuées ou des caractères spéciaux
-- cœurs ou guillemets inversés par exemple -- il suffit de les insérer
dans le fichier et de veiller à le sauvegarder avec le codage UTF-8.
Voir à ce sujet @ref{Special characters} pour plus de détails.

@lilypond[quote,verbatim]
\relative { d''8 c16 a bes8 f ees' d c4 }
\addlyrics { „Schad’ um das schö -- ne grü -- ne Band, }
@end lilypond

Pour utiliser des guillemets informatiques standard, faites-les
précéder d'une barre oblique inverse et encadrez d'une paire de
guillemets la syllabe ainsi composée :

@lilypond[quote,verbatim]
\relative { \time 3/4 e'4 e4. e8 d4 e d c2. }
\addlyrics { "\"I" am so lone- "ly\"" said she }
@end lilypond

Expliquer exactement comment LilyPond repère le début d'un mot en mode
paroles (@emph{Lyrics}) est quelque peu compliqué.  En mode
@emph{Lyrics}, un mot peut commencer par : tout caractère
alphabétique, @code{_}, @code{?}, @code{!}, @code{:}, @code{'}, un des
codes de contrôle @code{^A} à @code{^F} et @code{^Q} à @code{^W},
@code{^Y}, @code{^^}, tout caractère ASCII de code strictement supérieur
à 127, ou enfin l'un des symboles @code{`}, @code{'}, @code{"}
ou @code{^}, s'il est précédé d'une barre oblique inverse.

@c " to balance double quotes for not-so-bright context-sensitive editors

LilyPond permet de contrôler très finement le rendu des paroles grâce au
mode @code{\markup}, utilisable y compris au sein du mode
@code{\lyricmode}.  Des explications complètes sont disponibles au
chapitre @ref{Formatting text}.

@snippets

@cindex paroles et @emph{markup}
@cindex @emph{markup} et paroles
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/formatting-lyrics-syllables.ly}

@morerefs
Manuel d'initiation :
@rlearningnamed{Songs, Chansons}

Manuel de notation :
@ref{Special characters},
@ref{Automatic syllable durations},
@ref{Manual syllable durations},
@ref{Fonts},
@ref{Formatting text},
@ref{Input modes}.

Référence des propriétés internes :
@rinternals{LyricText}.
@endmorerefs


@node Aligning lyrics to a melody
@subsection Alignement des paroles sur la mélodie

@cindex paroles, alignement sur la mélodie
@funindex associatedVoice
@funindex \lyricmode
@funindex \addlyrics
@funindex \lyricsto

Les paroles sont interprétées à partir à partir du mode
@code{\lyricmode} et imprimées dans un contexte @code{Lyrics} -- voir
@ref{Contexts explained}.

@example
\new Lyrics \lyricmode @{ @dots{} @}
@end example

Deux variantes à @code{\lyricmode} permettent de plus d'associer
un contexte pour synchroniser les syllabes à la musique.  La plus
commode consiste à ajouter un @code{\addlyrics} directement après
le contenu musical du contexte @code{Voice} qui devrait se
synchroniser avec le contexte @code{Lyrics} alors implicitement
créé.  L'instruction @code{\lyricsto} est plus versatile en ceci
qu'elle requiert de spécifier à la fois le contexte @code{Voice}
associé et de créer explicitement un contexte @code{Lyrics} pour
contenir les paroles.  Pour de plus amples détails, voir
@ref{Automatic syllable durations}.

Vous disposez de deux méthodes pour aligner des paroles sur une
mélodie :

@itemize

@item
Les paroles peuvent s'aligner automatiquement, la durée des syllabes
étant déterminée à partir d'un contexte de voix ou, dans certaines
circonstances, une mélodie associée, grâce aux commandes
@code{\addlyrics} et @code{\lyricsto} ou en définissant la propriété
@code{associatedVoice}.  Ceci est détaillé à la rubrique
@ref{Automatic syllable durations}.

@lilypond[quote,ragged-right,verbatim]
<<
  \new Staff <<
    \time 2/4
    \new Voice = "one" \relative {
      \voiceOne
      c''4 b8. a16 g4. r8 a4 ( b ) c2
    }
    \new Voice = "two" \relative {
      \voiceTwo
       s2 s4. f'8 e4 d c2
    }
  >>

% takes durations and alignment from notes in "one"
  \new Lyrics \lyricsto "one" {
    Life is __ _ love, live __ life.
  }

% takes durations and alignment from notes in "one" initially
% then switches to "two"
  \new Lyrics \lyricsto "one" {
    No more let
    \set associatedVoice = "two"  % must be set one syllable early
    sins and sor -- rows grow.
  }
>>
@end lilypond

La première ligne de paroles est saisie selon la méthode la plus simple.

Vous pouvez constater, dans la deuxième ligne, que les paroles
s'alignent selon les durées d'une voix différente.  Ceci est
particulièrement utile lorsque le texte s'agence différemment selon les
couplets et que les durées sont accessibles grâce à des contextes
@code{Voice} particuliers.  Pour de plus amples détails, rendez-vous à
la rubrique @ref{Stanzas}.

@item
Les paroles s'aligneront indépendamment de la valeur des notes dès lors
que vous utiliserez le mode @code{\lyricmode} et affecterez
explicitement leur durée à chaque syllabe.

@lilypond[quote,ragged-right,verbatim]
<<
  \new Voice = "one" \relative {
    \time 2/4
    c''4 b8. a16 g4. f8 e4 d c2
  }

% uses previous explicit duration of 2;
  \new Lyrics \lyricmode {
    Joy to the earth!
  }

% explicit durations, set to a different rhythm
  \new Lyrics \lyricmode {
    Life4 is love,2. live4 life.2
  }
>>
@end lilypond

La première ligne de paroles ne s'aligne pas vraiment sur les notes
parce qu'aucune durée n'a été spécifiée.  En fait, LilyPond adopte la
dernière durée mentionnée, un 2, et l'applique à chaque mot.

La deuxième ligne illustre la manière d'aligner des paroles sans tenir
compte de la durée des notes.  Cette façon de procéder permet de traiter
un alignement différent selon les couplets lorsqu'il n'y a pas moyen de
déduire les durées à partir d'un contexte musical ; la rubrique
@ref{Manual syllable durations} aborde ceci plus en détails.  Cette
technique permet aussi d'ajouter des dialogues, comme indiqué à la rubrique
@ref{Dialogue over music}.

@end itemize

@morerefs
Manuel d'initiation :
@rlearningnamed{Aligning lyrics to a melody, Alignement des paroles sur une mélodie}.

Référence des propriétés internes :
@rinternals{Lyrics}.
@endmorerefs


@node Automatic syllable durations
@subsection Durée automatique des syllabes

@cindex syllabe, durée automatique
@cindex paroles et mélodies
@funindex associatedVoice
@funindex \addlyrics
@funindex \lyricsto

Les paroles peuvent être automatiquement alignées sous une mélodie, de
trois manières différentes :

@itemize

@item
en utilisant la commande @code{\lyricsto} pour spécifier le contexte de
voix qui contient la mélodie,

@item
en introduisant les paroles par la commande @code{\addlyrics}, placée
juste après le contexte @code{Voice} qui contient la mélodie,

@item
en définissant la propriété @code{associatedVoice} pour synchroniser les
paroles avec un autre contexte de voix, ce à n'importe quel moment.

@end itemize

Ces trois méthodes permettent d'ajouter les traits d'union séparant les
syllabes d'un même mot ainsi que d'indiquer la tenue de la dernière
syllabe.  Ceci fait l'objet de la rubrique
@ref{Extenders and hyphens}.

Le contexte @code{Voice} contenant la mélodie sur laquelle les paroles
vont s'aligner doit rester actif, au risque de voir la suite du texte
disparaître.  Ceci peut se produire lorsqu'il y a des moments où l'on ne
chante pas.  La rubrique @ref{Keeping contexts alive} vous indiquera
comment maintenir un contexte actif.


@subheading Utilisation de @code{\lyricsto}
@c VO: Using @code{\lyricsto}

@funindex \lyricsto

Vous pouvez aligner automatiquement des paroles sous une mélodie en
spécifiant à l'aide de la commande @code{\lyricsto} le contexte de voix
qui contient cette mélodie :

@c KEEP LY
@lilypond[quote,verbatim]
<<
  \new Voice = "melodie" \relative {
    a'1 a4. a8 a2
  }
  \new Lyrics \lyricsto "melodie" {
    Ce sont les mots
  }
>>
@end lilypond

@noindent
Cette commande adapte les paroles aux notes de la voix (contexte
@code{Voice} dans le jargon LilyPond) @var{melodie}.  Ce contexte
@code{Voice} doit exister avant l'affectation des paroles par
@code{\lyricsto}.  La commande @code{\lyricsto} introduit
automatiquement le mode @code{\lyricmode}. Les paroles viendront par
défaut se placer en dessous des notes. Pour un autre positionnement,
voir @ref{Placing lyrics vertically}.


@subheading Utilisation de @code{\addlyrics}
@c VO: Using @code{\addlyrics}

@funindex \addlyrics

La commande @code{\addlyrics} n'est en fait qu'une manière plus aisée
d'écrire de la musique vocale dans une structure LilyPond plus complexe.

@example
@{ MUSIQUE @}
\addlyrics @{ PAROLES @}
@end example

@noindent
revient au même que

@example
\new Voice = "blah" @{ MUSIQUE @}
\new Lyrics \lyricsto "blah" @{ PAROLES @}
@end example

En voici un exemple :

@lilypond[verbatim,quote]
{
  \time 3/4
  \relative { c'2 e4 g2. }
  \addlyrics { play the game }
}
@end lilypond

On peut ajouter davantage de couplets en multipliant le nombre de
sections @code{\addlyrics}.

@lilypond[ragged-right,verbatim,quote]
{
  \time 3/4
  \relative { c'2 e4 g2. }
  \addlyrics { play the game }
  \addlyrics { speel het spel }
  \addlyrics { joue le jeu }
}
@end lilypond

Cependant, la commande @code{\addlyrics} ne peut pas gérer les
constructions polyphoniques et ne permet pas d'associer des
paroles à un contexte @code{TabVoice}.  Dans ces cas là, mieux vaut
employer @code{\lyricsto}.


@subheading Utilisation de @code{associatedVoice}
@c VO: Using associatedVoice

La propriété @code{associatedVoice} permet de basculer de mélodie pour
la synchronisation des paroles.  Elle s'emploie de la manière suivante :

@example
\set associatedVoice = "lala"
@end example

@noindent
La valeur que vous attribuez à cette propriété (ici @code{"lala"})
doit désigner un contexte @code{Voice} nommé, sans quoi les mélismes
ne seront pas imprimés correctement.

Voici un exemple de cette manière de procéder :

@lilypond[quote,ragged-right,verbatim]
<<
  \new Staff <<
    \time 2/4
    \new Voice = "one" \relative {
      \voiceOne
      c''4 b8. a16 g4. r8 a4 ( b ) c2
    }
    \new Voice = "two" \relative {
      \voiceTwo
       s2 s4. f'8 e8 d4. c2
    }
  >>
% takes durations and alignment from notes in "one" initially
% then switches to "two"
  \new Lyrics \lyricsto "one" {
    No more let
    \set associatedVoice = "two"  % must be set one syllable early
    sins and sor -- rows grow.
  }
>>
@end lilypond

@morerefs
Manuel de notation :
@ref{Keeping contexts alive},
@ref{Extenders and hyphens}.
@endmorerefs


@node Manual syllable durations
@subsection Durée explicite des syllabes

On peut aussi se passer de @code{\addlyrics}, @code{\lyricsto} et
@code{associatedVoice} pour saisir des paroles.  Dans ce cas, les
syllabes sont entrées comme des notes -- du texte remplaçant les
hauteurs -- ce qui veut dire que vous devez définir leur durée
explicitement.

Les traits d'union seront imprimés entre les syllabes, à l'inverse des
mélismes puisqu'il n'y a pas de voix associée.

Voici deux illustrations de cette technique :

@lilypond[verbatim,quote]
<<
  \new Voice = "melody" {
    \time 3/4
    c''2 a f f e e
  }
  \new Lyrics \lyricmode {
    c4. -- a -- f -- f -- e2. -- e
  }
>>
@end lilypond

@lilypond[quote,verbatim,ragged-right]
<<
  \new Staff {
    \relative {
      c''2 c2
      d1
    }
  }
  \new Lyrics {
    \lyricmode {
      I2 like4. my8 cat!1
    }
  }
  \new Staff {
    \relative {
      c'8 c c c c c c c
      c8 c c c c c c c
    }
  }
>>
@end lilypond

Cette manière de procéder est tout à fait adaptée lorsqu'un fond musical
accompagne des dialogues -- voir @ref{Dialogue over music}.

Les syllabes seront alignées selon la dérogation apportée à la propriété
@code{self-alignment-X} :

@lilypond[verbatim,quote]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    c'2 e4 g2 f
  }
  \new Lyrics \lyricmode {
    \override LyricText.self-alignment-X = #LEFT
    play1 a4 game4
  }
>>
@end lilypond

@morerefs
Manuel de notation :
@ref{Dialogue over music}.

Référence des propriétés internes :
@rinternals{Lyrics},
@rinternals{Voice}.
@endmorerefs


@node Multiple syllables to one note
@subsection Plusieurs syllabes sur une note

@cindex liaison, dans les paroles
@cindex espace dans les paroles
@cindex guillemets dans les paroles
@funindex _
@funindex ~

Pour attribuer plus d'une syllabe à une même note, vous pouvez soit les
mettre entre guillemets, soit utiliser le caractère souligné (@code{_})
pour obtenir une espace, ou bien encore utiliser un tilde (@code{~})
pour obtenir une liaison entre les syllabes.

@lilypond[quote,ragged-right,verbatim]
{
  \relative {
    \autoBeamOff
    r8 b' c fis, fis c' b e,
  }
  \addlyrics
  {
    % Ensure hyphens are visible
    \override LyricHyphen.minimum-distance = 1.0
    Che_in ques -- ta_e_in quel -- l'al -- tr'on -- da
  }
  \addlyrics { "Che in" ques -- "ta e in" quel -- l'al -- tr'on -- da }
  \addlyrics { Che~in ques -- ta~e~in quel -- l'al -- tr'on -- da }
}
@end lilypond

@morerefs
Référence des propriétés internes :
@rinternals{LyricCombineMusic}.
@endmorerefs


@node Multiple notes to one syllable
@subsection Plusieurs notes pour une même syllabe

@cindex mélisme
@cindex vocalise
@cindex phrasé, pour des paroles
@funindex \melisma
@funindex \melismaEnd

Parfois, tout particulièrement en musique médiévale ou baroque,
plusieurs notes correspondent à une même syllabe.  Ces vocalises sont
appelées @rglosnamed{melisma,mélismes}.  La syllabe à vocaliser est
traditionnellement alignée par la gauche sur la première note du mélisme.

Lorsqu'un mélisme tombe sur une syllabe autre que la dernière d'un mot,
un trait d'union étiré, indiqué par un double tiret @w{@code{--}} dans
le fichier source, reliera cette syllabe à la suivante.

Lorsqu'un mélisme tombe sur la dernière syllabe d'un mot ou que ce mot
n'en comporte qu'une, l'usage est d'indiquer la « tenue » jusqu'à la
dernière note de la vocalise.  Ceci s'obtient en ajoutant un double
caractère souligné @code{__} après cette syllabe.

Vous disposez de cinq méthodes pour indiquer la présence d'un mélisme :

@itemize

@item
Une liaison de prolongation constitue de fait un mélisme :

@lilypond[quote,verbatim]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    f''4 g2 ~ |
    4 e2 ~ |
    8
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- e __
  }
>>
@end lilypond

@item
LilyPond considère une liaison d'articulation comme un mélisme -- il
s'étendra de la première à la dernière note couverte par cette
liaison.  Il s'agit là de la façon traditionnelle de saisir des
paroles :

@lilypond[quote,verbatim]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    f''4 g8 ( f e f )
    e8 ( d e2 )
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- e __
  }
>>
@end lilypond

Notez bien qu'une liaison de phrasé -- indiquée par @code{\(@dots{}\)}
-- n'a aucune incidence sur la gestion des mélismes.

@item
LilyPond considère des notes regroupées par une ligature manuelle comme
un mélisme, si tant est que la procédure de ligature automatique a été
désactivée -- voir @ref{Setting automatic beam behavior}.

@lilypond[quote,verbatim]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    \autoBeamOff
    f''4 g8[ f e f]
    e2.
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- e
  }
>>
@end lilypond

Ceci ne peut, vous en conviendrez, prendre en compte des durées
plus longues que la croche.

@item
LilyPond considère un groupe de notes non liées, mais encadrées par
@code{\melisma} et @code{\melismaEnd}, comme constituant un
mélisme :

@lilypond[quote,verbatim]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    f''4 g8
    \melisma
    f e f
    \melismaEnd
    e2.
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- e
  }
>>
@end lilypond

@item
Vous pouvez indiquer un mélisme directement dans les paroles, à l'aide
d'un caractère souligné simple @code{_} pour chaque note faisant partie
de la vocalise :

@lilypond[verbatim, quote]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    f''4 g8 f e f
    e8 d e2
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- _ _ _ e __ _ _
  }
>>
@end lilypond

@end itemize

Vous pouvez totalement désactiver l'interprétation des liaisons de
prolongation ou d'articulation et des ligatures apparaissant dans une
mélodie comme fait générateur d'un mélisme.  Il suffit en ce cas de
définir @code{melismaBusyProperties} :

@lilypond[verbatim,quote]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    \set melismaBusyProperties = #'()
    c'4 d ( e )
    g8 [ f ] f4 ~ 4
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- e e -- le -- i -- son
  }
>>
@end lilypond

Certains réglages de @code{melismaBusyProperties} permettent de prendre
en compte ou non les liaisons de tenue, les liaisons d'articulation et
les ligatures dans la détection automatique des mélismes -- voir
@code{melismaBusyProperties} à la rubrique
@rinternalsnamed{Tunable context properties,
propriétés de contexte ajustables (en anglais)}.

Dans le cas où les indications de mélisme doivent être totalement
ignorées, il vous faudra alors activer @code{ignoreMelismata} -- voir
@ref{Stanzas with different rhythms}.

Lorsque, dans un passage où la propriété @code{melismaBusyProperties}
est active, survient un mélisme, vous pouvez l'indiquer dans les paroles
par un simple caractère souligné pour chaque note à inclure :

@lilypond[verbatim,quote]
<<
  \new Voice = "melody" \relative {
    \time 3/4
    \set melismaBusyProperties = #'()
    c'4 d ( e )
    g8 [ f ] ~ 4 ~ f
  }
  \new Lyrics \lyricsto "melody" {
    Ky -- ri -- _ e __ _ _ _
  }
>>
@end lilypond

@predefined
@code{\autoBeamOff},
@code{\autoBeamOn},
@code{\melisma},
@code{\melismaEnd}.
@endpredefined

@morerefs
Glossaire musicologique :
@rglos{melisma}.

Manuel d'initiation :
@rlearningnamed{Aligning lyrics to a melody, Alignement des paroles sur une mélodie}.

Manuel de notation :
@ref{Aligning lyrics to a melody},
@ref{Setting automatic beam behavior},
@ref{Automatic syllable durations},
@ref{Stanzas with different rhythms}.

Référence des propriétés internes :
@rinternals{Tunable context properties}.
@endmorerefs

@knownissues
Certains mélismes ne sont pas détectés automatiquement ; vous devrez
alors prolonger vous-même les syllabes concernées à l'aide d'un double
caractère souligné.


@node Extenders and hyphens
@subsection Traits d'union et de prolongation

@cindex mélisme
@cindex extenseur
@cindex prolongateur
@funindex __

@c leave this as samp. -gp
Un mélisme sur la dernière syllabe d'un mot est indiqué par une longue
ligne horizontale basse s'étirant jusqu'à la syllabe suivante.  Une
telle ligne, que nous appellerons prolongateur ou extenseur, s'obtient
en saisissant @samp{ __ } (notez les espaces entourant le double
caractère souligné). Il est aussi possible de créer automatiquement des
lignes d'extension en activant la propriété @code{autoExtenders}.

@warning{Dans une partition, les mélismes, ou vocalises, sont
matérialisés par une ligne de prolongation.  On l'indique par un double
caractère souligné.  Lorsqu'ils sont assez courts, ces mélismes peuvent
s'indiquer par un souligné unique, ce qui aura pour effet de sauter une
note à chaque fois et de ne pas imprimer de ligne.}

@cindex trait d'union
@cindex @sortas{hyphénation} « hyphénation », trait d'union
@funindex --

@c leave this as samp. -gp
Un trait d'union séparant deux syllabes d'un même mot s'obtient en
saisissant @samp{ -- } (notez les espaces entourant le tiret double).
Ce trait d'union sera centré entre les deux syllabes et sa longueur
sera proportionnelle à l'espace les séparant.

Dans les partitions très serrées, les traits d'union peuvent ne pas être
imprimés.  Cet inconvénient peut être contrôlé par les propriétés
@code{minimum-distance} pour gérer l'espace minimum entre deux syllabes,
et @code{minimum-length}, seuil en deçà duquel il n'y a pas de trait
d'union, toutes deux attachées à l'objet @code{LyricHyphen}.

Un trait d'union ne sera pas, par défaut, imprimé après un saut de ligne
lorsque le nouveau système débute sur une nouvelle syllabe. Basculer la
propriété @code{after-line-breaking} à @code{#t} permet de répéter le
trait d'union en pareille situation.

@morerefs
Référence des propriétés internes :
@rinternals{LyricExtender},
@rinternals{LyricHyphen}.
@endmorerefs


@node Gradual changes of vowel
@subsection Changement graduel de voyelle


@cindex voyelle, transition
@funindex \vowelTransition

Un changement graduel de voyelle (ou une consonne maintenue) peut
s’indiquer en ajoutant une flêche entre les syllabes, à l’aide de la
commande @code{\vowelTransition} -- voir Gould p. 452--453. La flêche
indique la longueur de la transition et sera par défaut toujours
affichée -- de l'espace sera ajouté en cas d'espacement contraint. Une
liaison de tenue ou de vocalise indique une absence d'articulation si ce
n'est un changement de voyelle. La taille minimale de la flêche se règle
à l'aide de la propriété @code{minimum-length} de l'objet
@code{VowelTransition}.

@lilypond[verbatim,quote]
{
  c'2 c'
  \set melismaBusyProperties = #'()
  c'2 ~ c'
  \time 3/2
  d'4( e' f' e' f'2
  e'2.)
}
\addlyrics
{
  Ah \vowelTransition oh,
  ah \vowelTransition oh,
  ah \vowelTransition _ _ _ _
  oh.
}
@end lilypond

@morerefs
Glossaire musicologique :
@rglos{vowel transition}.

Référence des propriétés internes :
@rinternals{VowelTransition}.
@endmorerefs



@need 1500
@node Techniques specific to lyrics
@section Situations particulières en matière de paroles

@c FIXME This whole section is to be reorganized


@node Working with lyrics and variables
@subsection Travail avec des paroles et variables

@cindex paroles, variable
@cindex paroles, identificateur

Vous pouvez créer des variables pour contenir les paroles, dès lors que
vous faites appel au mode approprié :

@lilypond[quote,verbatim]
musicOne = \relative {
  c''4 b8. a16 g4. f8 e4 d c2
}
verseOne = \lyricmode {
  Joy to the world, the Lord is come.
}
\score {
  <<
    \new Voice = "one" {
      \time 2/4
      \musicOne
    }
    \new Lyrics \lyricsto "one" {
      \verseOne
    }
  >>
}
@end lilypond

La fonction @code{\lyricmode} permet de définir une variable pour
les paroles.  Point n'est besoin de spécifier les durées si vous
utilisez @code{\addlyrics} ou @code{\lyricsto} lorsque vous y faites
référence.

Pour une organisation différente ou plus complexe, mieux vaut
commencer par créer et alimenter les variables contenant mélodies et
paroles, puis définir la hiérarchie des portées et des lignes de
paroles, et enfin combiner correctement mélodies et paroles à l'aide de
la commande @code{\context}.  Vous serez ainsi assuré que la voix à
laquelle il est fait référence par @code{\lyricsto} aura bien été
préalablement définie, comme dans l'exemple suivant :

@lilypond[quote,verbatim]
sopranoMusic = \relative { c''4 c c c }
contraltoMusic = \relative { a'4 a a a }
sopranoWords = \lyricmode { Sop -- ra -- no words }
contraltoWords = \lyricmode { Con -- tral -- to words }

\score {
  \new ChoirStaff <<
    \new Staff {
      \new Voice = "sopranos" {
        \sopranoMusic
      }
    }
    \new Lyrics = "sopranos"
    \new Lyrics = "contraltos"
    \new Staff {
      \new Voice = "contraltos" {
        \contraltoMusic
      }
    }
    \context Lyrics = "sopranos" {
      \lyricsto "sopranos" {
        \sopranoWords
      }
    }
    \context Lyrics = "contraltos" {
      \lyricsto "contraltos" {
        \contraltoWords
      }
    }
  >>
}
@end lilypond

@morerefs
Manuel de notation :
@ref{Placing lyrics vertically}.

Référence des propriétés internes :
@rinternals{LyricCombineMusic},
@rinternals{Lyrics}.
@endmorerefs


@node Placing lyrics vertically
@subsection Positionnement vertical des paroles

@cindex positionnement des paroles
@cindex paroles, positionnement

Selon le type de musique, les paroles apparaîtront au-dessus ou
au-dessous d'une portée ou bien entre deux portées.  Positionner des
paroles en dessous de la portée à laquelle elles se rattachent est de
loin la chose la plus simple : il suffit de mentionner le contexte
de paroles après le contexte de portée :

@lilypond[quote,verbatim]
\score {
  <<
    \new Staff {
      \new Voice = "melody" {
        \relative { c''4 c c c }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Here are the words
      }
    }
  >>
}
@end lilypond

@funindex alignAboveContext
@funindex alignBelowContext

Positionner les paroles au-dessus de la portée se fait de deux manières
différentes, le plus simple étant d'utiliser la même syntaxe que
ci-dessus, à ceci près que la ligne de paroles sera positionnée de
manière explicite. L'argument à @code{alignAboveContext} est le nom d'un
contexte @code{Staff} ou l'un de ses semblables -- l'utilisation d'un
@code{Voice} est inopérant.

L'utilisation de @code{alignBelowContext} permet de positionner des
paroles au-dessous d'une portée. Ce n'est en règle générale nécessaire
que pour forcer le positionnement sous une portée qui n'est pas celle
par défaut.

@lilypond[quote,verbatim]
\score {
  <<
    \new Staff = "staff" {
      \new Voice = "melody" {
        \relative { c''4 c c c }
      }
    }
    \new Lyrics \with { alignAboveContext = "staff" } {
      \lyricsto "melody" {
        Here are the words
      }
    }
  >>
}
@end lilypond

Autre façon de procéder, cette fois-ci en deux étapes.  Nous commençons
par déclarer un contexte @code{Lyrics} que nous laissons vide, puis
les contextes @code{Staff} et @code{Voice}.  Dans un deuxième temps,
nous ajoutons l'instruction @code{\context} et la commande
@code{\lyricsto} pour affecter les paroles au contexte de voix en
question.  Voici comment cela se présente :

@lilypond[quote,verbatim]
\score {
  <<
    \new Lyrics = "lyrics" \with {
      % lyrics above a staff should have this override
      \override VerticalAxisGroup.staff-affinity = #DOWN
    }
    \new Staff {
      \new Voice = "melody" {
        \relative { c''4 c c c }
      }
    }
    \context Lyrics = "lyrics" {
      \lyricsto "melody" {
        Here are the words
      }
    }
  >>
}
@end lilypond

Lorsque deux voix sont isolées chacune sur une portée, vous pouvez
placer les paroles entre les deux portées en utilisant l'une des
méthodes que nous venons de voir.  En voici un exemple, basé sur la
deuxième méthode :

@lilypond[quote,verbatim]
\score {
  \new ChoirStaff <<
    \new Staff {
      \new Voice = "sopranos" {
        \relative { c''4 c c c }
      }
    }
    \new Lyrics = "sopranos"
    \new Lyrics = "contraltos" \with {
      % lyrics above a staff should have this override
      \override VerticalAxisGroup.staff-affinity = #DOWN
    }
    \new Staff {
      \new Voice = "contraltos" {
        \relative { a'4 a a a }
      }
    }
    \context Lyrics = "sopranos" {
      \lyricsto "sopranos" {
        Sop -- ra -- no words
      }
    }
    \context Lyrics = "contraltos" {
      \lyricsto "contraltos" {
        Con -- tral -- to words
      }
    }
  >>
}
@end lilypond

Vous pouvez générer d'autres combinaisons de paroles et portées à partir
de ces exemples, ou en examinant ce qui figure à la rubrique
@rlearningnamed{Vocal ensembles templates, Modèles pour ensemble vocal} du manuel d'initiation.

@snippets

@cindex parole séparées, ligne unique
@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/arranging-separate-lyrics-on-a-single-line.ly}

@cindex paroles, espacement version 2.12
@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/obtaining-2.12-lyrics-spacing-in-newer-versions.ly}

@morerefs
Manuel d'initiation :
@rlearningnamed{Vocal ensembles templates, Modèles pour ensemble vocal}.

Manuel de notation :
@ref{Creating and referencing contexts},
@ref{Context layout order}.
@endmorerefs


@node Placing syllables horizontally
@subsection Positionnement horizontal des syllabes

@cindex espacement des paroles
@cindex paroles, gestion de l'espacement

La propriété @code{minimum-distance} de l'objet @code{LyricSpace}
permet d'accroître l'espacement des paroles.

@lilypond[verbatim,quote,ragged-right]
\relative c' {
  c c c c
  \override Lyrics.LyricSpace.minimum-distance = 1.0
  c c c c
}
\addlyrics {
  longtext longtext longtext longtext
  longtext longtext longtext longtext
}
@end lilypond

@noindent
Pour que ce réglage s'applique à toute la partition, définissez-le
dans le bloc @code{\layout}.

@lilypond[verbatim,quote,ragged-right]
\score {
  \relative {
  c' c c c
  c c c c
  }
  \addlyrics {
  longtext longtext longtext longtext
  longtext longtext longtext longtext
  }
  \layout {
    \context {
      \Lyrics
      \override LyricSpace.minimum-distance = 1.0
    }
  }
}
@end lilypond

@snippets

@cindex paroles, alignement horizontal
@cindex alignement horizontal, paroles
@cindex horizontal, alignement des paroles
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/lyrics-alignment.ly}

@knownissues

@cindex paroles, garder dans les marges
L'assurance que tous les scripts textuels et les paroles resteront bien
à l'intérieur des marges requiert des ressources non négligeables.
Afin de réduire le temps de traitement, vous pouvez désactiver cette
fonctionnalité en ajoutant

@example
\override Score.PaperColumn.keep-inside-line = ##f
@end example

@cindex paroles et barre de mesure
@cindex barre de mesure et paroles
Pour s'assurer que les paroles ne seront pas traversées par des barres
de mesure, il faut ajouter

@example
\layout @{
  \context @{
    \Lyrics
      \consists Bar_engraver
      \consists Separating_line_group_engraver
      \hide BarLine
  @}
@}
@end example


@node Lyrics and repeats
@subsection Paroles et reprises

@cindex reprise et paroles
@cindex paroles et répétition

La répétition de @i{fragments musicaux} est abordée de manière détaillée
dans un @ref{Repeats,chapitre spécifique}.
Nous nous intéresserons ici aux moyens d'ajouter des paroles à des
reprises.


@subheading Reprises simples
@c VO: Simple repeats

Les paroles attachées à un fragment musical répété devraient adopter
rigoureusement la même construction que la musique, si tant est qu'elles
ne diffèrent pas d'une fois sur l'autre.

@lilypond[verbatim,quote]
\score {
  <<
    \new Staff {
      \new Voice = "melody" {
        \relative {
          a'4 a a a
          \repeat volta 2 { b4 b b b }
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Not re -- peat -- ed.
        \repeat volta 2 { Re -- peat -- ed twice. }
      }
    }
  >>
}
@end lilypond

Les mots seront alors correctement répétés si la reprise est développée.

@lilypond[verbatim,quote]
\score {
  \unfoldRepeats {
    <<
      \new Staff {
        \new Voice = "melody" {
          \relative {
            a'4 a a a
            \repeat volta 2 { b4 b b b }
          }
        }
      }
      \new Lyrics {
        \lyricsto "melody" {
          Not re -- peat -- ed.
          \repeat volta 2 { Re -- peat -- ed twice. }
        }
      }
    >>
  }
}
@end lilypond

Lorsque la reprise est développée et que les paroles diffèrent,
saisissez le texte normalement :

@lilypond[verbatim,quote,ragged-right]
\score {
  <<
    \new Staff {
      \new Voice = "melody" {
        \relative {
          a'4 a a a
          \repeat unfold 2 { b4 b b b }
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Not re -- peat -- ed.
        The first time words.
        Sec -- ond time words.
      }
    }
  >>
}
@end lilypond

Lorsque les paroles diffèrent pour une reprise non développée --
utilisation de @code{volta} au lieu de @code{unfold} -- les paroles en
question doivent être saisies dans des contextes @code{Lyrics}
séparés ; ils seront combinés dans une section parallèle :

@lilypond[verbatim,quote]
\score {
  <<
    \new Staff {
      \new Voice = "melody" {
        \relative {
          a'4 a a a
          \repeat volta 2 { b4 b b b }
        }
      }
    }
    \new Lyrics \lyricsto "melody" {
      Not re -- peat -- ed.
      <<
	{ The first time words. }
	\new Lyrics {
	  \set associatedVoice = "melody"
	  Sec -- ond time words.
	}
      >>
    }
  >>
}
@end lilypond

Et ce quel que soit le nombre de « couplets » :

@lilypond[verbatim,quote]
\score {
  <<
    \new Staff {
      \new Voice = "singleVoice" {
        \relative {
	  a'4 a a a
	  \repeat volta 3 { b4 b b b }
          c4 c c c
	}
      }
    }
    \new Lyrics \lyricsto "singleVoice" {
      Not re -- peat -- ed.
      <<
        { The first time words.	}
	\new Lyrics {
	  \set associatedVoice = "singleVoice"
	  Sec -- ond time words.
	}
	\new Lyrics {
	  \set associatedVoice = "singleVoice"
	  The third time words.
	}
      >>
      The end sec -- tion.
    }
  >>
}
@end lilypond

@funindex alignBelowContext

Cependant, lorsque la partition comporte plusieurs portées, cas typique
d'un @code{ChoirStaff}, les paroles des deuxième et troisième couplets
seront repoussées sous la dernière portée. L'instruction
@code{alignBelowContext} permet alors de les repositionner correctement :

@lilypond[verbatim,quote]
\score {
  <<
    \new Staff {
      \new Voice = "melody" {
        \relative {
	  a'4 a a a
	  \repeat volta 3 { b4 b b b }
          c4 c c c
	}
      }
    }
    \new Lyrics = "firstVerse" \lyricsto "melody" {
      Not re -- peat -- ed.
      <<
        { The first time words.	}
	\new Lyrics = "secondVerse"
        \with { alignBelowContext = "firstVerse" } {
	  \set associatedVoice = "melody"
	  Sec -- ond time words.
	}
	\new Lyrics = "thirdVerse"
        \with { alignBelowContext = "secondVerse" } {
	  \set associatedVoice = "melody"
	  The third time words.
	}
      >>
      The end sec -- tion.
    }
    \new Voice = "harmony" {
      \relative {
        f'4 f f f
        \repeat volta 2 { g8 g g4 g2 }
        a4 a8. a16 a2
      }
    }
  >>
}
@end lilypond

@c TODO positioning a common line of lyrics


@subheading Reprises avec alternative
@c VO: Repeats with alternative endings

@cindex paroles, reprise avec alternative
@cindex reprise avec alternative et paroles
@cindex alternative et paroles

Les paroles d'un fragment répété, lorsqu'elles sont identiques et
qu'aucune alternative ne débute par un silence, peuvent adopter la même
construction que la musique.  Ceci permet par ailleurs une expansion
correcte à la fois de la musique et des paroles lors de l'utilisation de
@code{\unfoldRepeats}.

@lilypond[quote,verbatim]
\score {
  <<
    \new Staff {
      \time 2/4
      \new Voice = "melody" {
        \relative {
          a'4 a a a
          \repeat volta 2 { b4 b }
          \alternative {
            \volta 1 { b b }
            \volta 2 { b c }
          }
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Not re -- peat -- ed.
        \repeat volta 2 { Re -- peat -- }
        \alternative {
          \volta 1 { ed twice. }
          \volta 2 { ed twice. }
        }
      }
    }
  >>
}
@end lilypond

Cette identité de structure n'est toutefois pas possible lorsque les
paroles sont différentes ou que l'un des blocs @code{\alternative}
débute par un silence.  Des instructions @code{\skip} devront venir
s'insérer dans les paroles pour « sauter » les notes des alternatives
qui ne les concernent pas.

N'utilisez pas de simple caractère souligné pour sauter une note.
N'oubliez pas qu'un caractère souligné indique un mélisme ; la
syllabe précédente sera donc alignée à gauche.

@warning{La commande @code{@bs{}skip} doit comporter une durée quelle
qu'elle soit -- elle sera toujours ignorée lorsque les paroles sont
associées à une mélodie à l'aide de @code{@bs{}addlyrics} ou
@code{@bs{}lyricsto}. Chaque @code{@bs{}skip} correspond à une seule
note quelle qu'en soit la durée.}

@lilypond[verbatim,quote,ragged-right]
\score {
  <<
    \new Staff {
      \time 2/4
      \new Voice = "melody" {
        \relative {
          \repeat volta 2 { b'4 b }
          \alternative {
            \volta 1 { b b }
            \volta 2 { b c }
          }
          c4 c
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        The first time words.
        \repeat unfold 2 { \skip 1 }
        End here.
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Sec -- ond
        \repeat unfold 2 { \skip 1 }
        time words.
      }
    }
  >>
}
@end lilypond

@cindex paroles et liaison de prolongation
@funindex \repeatTie

Lorsqu'une note se prolonge sur les alternatives, la tenue est
indiquée normalement pour la première alternative, et à l'aide de
l'instruction @code{\repeatTie} pour les suivantes.  Cette liaison
« de répétition » pose problème en matière d'alignement des paroles
puisque la longueur de l'alternative est accrue en raison de la liaison.

D'autre part, une liaison de prolongation crée un mélisme qui sera
effectif pour la première alternative, mais pas pour les autres.  La
solution pour « recaler » les paroles consiste à désactiver
temporairement la détection automatique de mélismes et insérer des
« blancs ».

@lilypond[quote,verbatim]
\score {
  <<
    \new Staff {
      \time 2/4
      \new Voice = "melody" {
        \relative {
          \set melismaBusyProperties = #'()
          \repeat volta 2 { b'4 b ~}
          \alternative {
            \volta 1 { b b }
            \volta 2 { b \repeatTie c }
          }
          \unset melismaBusyProperties
          c4 c
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        \repeat volta 2 { Here's a __ }
        \alternative {
          \volta 1 { \skip 1 verse }
          \volta 2 { \skip 1 sec }
        }
        ond one.
      }
    }
  >>
}
@end lilypond

Notez bien que l'utilisation conjointe de @code{\unfoldRepeats} et de
@code{\repeatTie} entraîne l'impression d'une double liaison, sauf à
supprimer les @code{\repeatTie}.

Lorsque les paroles sont différentes sur le fragment répété, la
construction avec @code{\repeat} est inefficace ; vous devrez alors
insérer des blancs :

@lilypond[quote,verbatim]
\score {
  <<
    \new Staff {
      \time 2/4
      \new Voice = "melody" {
        \relative {
          \repeat volta 2 { b'4 b ~}
          \alternative {
            \volta 1 { b b }
            \volta 2 { b \repeatTie c }
          }
          c4 c
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Here's a __ verse.
        \repeat unfold 2 { \skip 1 }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Here's one
        \repeat unfold 2 { \skip 1 }
        more to sing.
      }
    }
  >>
}
@end lilypond

Les indications de mélisme et traits d'union en début d'alternative
doivent être insérées manuellement :

@lilypond[quote,verbatim]
\score {
  <<
    \new Staff {
      \time 2/4
      \new Voice = "melody" {
        \relative {
          \repeat volta 2 { b'4 b ~}
          \alternative {
            \volta 1 { b b }
            \volta 2 { b \repeatTie c }
          }
          c4 c
        }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Here's a __ verse.
        \repeat unfold 2 { \skip 1 }
      }
    }
    \new Lyrics {
      \lyricsto "melody" {
        Here's "a_"
        \skip 1
        "_" sec -- ond one.
      }
    }
  >>
}
@end lilypond

@morerefs
Manuel de notation :
@ref{Keeping contexts alive},
@ref{Repeats}.
@endmorerefs


@node Divisi lyrics
@subsection Paroles alternatives

@cindex division et paroles
@cindex paroles divisées (reprises)
@cindex variante rythmique

Il arrive parfois, dans un fragment répété, qu'une note soit divisée
pour répondre au texte.  Vous pouvez indiquer cette adaptation rythmique
en désactivant temporairement la détection automatique des mélismes tout
en spécifiant ces mélismes au niveau des paroles :

@lilypond[quote,verbatim]
\score {
  <<
    \new Voice = "melody" {
      \relative c' {
        \set melismaBusyProperties = #'()
        \slurDashed
        e4 e8( e) c4 c |
        \unset melismaBusyProperties
        c
      }
    }
    \new Lyrics \lyricsto "melody" {
      They shall not o -- ver -- come
    }
    \new Lyrics \lyricsto "melody" {
      We will _ rock you, yeah
    }
  >>
}
@end lilypond

En donnant un nom à chaque voix et en leur attribuant spécifiquement
des paroles, vous pourrez traiter le cas où notes et rythme diffèrent
d'une fois sur l'autre :

@lilypond[verbatim,ragged-right,quote]
\score {
  <<
    \new Voice = "melody" {
      \relative {
        <<
          {
            \voiceOne
            e'4 e8 e
          }
          \new Voice = "splitpart" {
            \voiceTwo
            c4 c
          }
        >>
        \oneVoice
        c4 c |
        c
      }
    }
    \new Lyrics \lyricsto "melody" {
      They shall not o -- ver -- come
    }
    \new Lyrics \lyricsto "splitpart" {
      We will
    }
  >>
}
@end lilypond

Il n'est pas rare, en musique chorale, qu'une voix se divise pendant
plusieurs mesures. Bien qu'une construction du type
@code{<< @{@dots{}@} \\ @{@dots{}@} >>}, où deux expressions musicales
(ou plus) séparées par des doubles obliques inversées peuvent sembler
être le moyen adéquat de définir cette division, @strong{toutes} les
expressions qu'elle contient seront assignées à de @strong{nouveaux
contextes de voix}, ce qui aura pour effet qu'aucune parole ne leur sera
affectée -- les paroles sont attachées au contexte de voix initial. Il
vaut mieux construire ce passage comme une polyphonie temporaire -- voir
@ref{Single-staff polyphony}.


@node Polyphony with shared lyrics
@subsection Polyphonie et paroles communes

@cindex polyphonie, mêmes paroles
@cindex paroles communes à plusieurs voix
@cindex @code{\partCombine} et paroles
@funindex \partCombine
@funindex NullVoice

Lorsque deux voix au rythme différent partagent les mêmes paroles,
l'alignement des syllabes sur l'une des voix peut gêner la lecture de
l'autre voix.  Par exemple, la deuxième extension de syllabe ci-dessous
est trop courte puisque les paroles ne sont alignées que sur la voix du
haut :

@lilypond[quote,verbatim]
soprano = \relative { b'8( c d c) d2 }
alto = \relative { g'2 b8( a g a) }
words = \lyricmode { la __ la __ }

\new Staff <<
  \new Voice = "sopranoVoice" { \voiceOne \soprano }
  \new Voice { \voiceTwo \alto }
  \new Lyrics \lyricsto "sopranoVoice" \words
>>
@end lilypond

Le résultat attendu sera obtenu grâce à l'alignement des paroles sur un
contexte @code{NullVoice} supplémentaire, celui-ci contenant une
combinaison judicieuse des deux voix.  Les notes du contexte
@code{NullVoice}, bien que n'apparaissant pas sur la version imprimable,
peuvent servir à aligner correctement les syllabes :

@lilypond[quote,verbatim]
soprano = \relative { b'8( c d c) d2 }
alto = \relative { g'2 b8( a g a) }
aligner = \relative { b'8( c d c) b( a g a) }
words = \lyricmode { la __ la __ }

\new Staff <<
  \new Voice { \voiceOne \soprano }
  \new Voice { \voiceTwo \alto }
  \new NullVoice = "aligner" \aligner
  \new Lyrics \lyricsto "aligner" \words
>>
@end lilypond

Cette façon de procéder permet par ailleurs d'utiliser la fonction
@code{\partCombine} qui, normalement, ne peut s'utiliser avec des
paroles :

@lilypond[quote,verbatim]
soprano = \relative { b'8( c d c) d2 }
alto = \relative { g'2 b8( a g a) }
aligner = \relative { b'8( c d c) b( a g a) }
words = \lyricmode { la __ la __ }

\new Staff <<
  \new Voice \partCombine \soprano \alto
  \new NullVoice = "aligner" \aligner
  \new Lyrics \lyricsto "aligner" \words
>>
@end lilypond

@knownissues
La commande @code{\addlyrics} ne peut traiter que des paroles attachées
à un contexte @code{Voice} ; elle ne peut donc s'utiliser avec un
@code{NullVoice}.

@noindent
La fonction @code{\partCombine} est abordée en détails dans
@ref{Automatic part combining}.

Pour finir, cette méthode est aussi utilisable lorsque les voix sont
sur des portées différentes, et ne se limite pas à deux voix :

@lilypond[quote,verbatim]
soprano = \relative { b'8( c d c) d2 }
altoOne = \relative { g'2 b8( a b4) }
altoTwo = \relative { d'2 g4( fis8 g) }
aligner = \relative { b'8( c d c) d( d d d) }
words = \lyricmode { la __ la __ }

\new ChoirStaff \with { \accepts NullVoice } <<
  \new Staff \soprano
  \new NullVoice = "aligner" \aligner
  \new Lyrics \lyricsto "aligner" \words
  \new Staff \partCombine \altoOne \altoTwo
>>
@end lilypond


@need 1500
@node Stanzas
@section Couplets


@node Adding stanza numbers
@subsection Numérotation des couplets

@cindex numéro de couplet
@cindex couplet, numéro

On peut ajouter un numéro aux couplets en définissant la variable
@code{stanza} :

@lilypond[quote,ragged-right,verbatim]
\new Voice \relative {
  \time 3/4 g'2 e4 a2 f4 g2.
} \addlyrics {
  \set stanza = "1. "
  Hi, my name is Bert.
} \addlyrics {
  \set stanza = "2. "
  Oh, ché -- ri, je t'aime
}
@end lilypond

@noindent
Ces numéros se placeront juste avant le début de la première syllabe.
Deux lignes de couplet peuvent aussi être regroupées, par exemple dans
le cas d'une reprise avec des paroles différentes.

@lilypond[quote,ragged-right,verbatim]
stanzaOneOne = \lyricmode {
  \set stanza = \markup {
    \column {
      \vspace #.2
      \line { "1." \left-brace #30 }
    }
  }
  Child, you’re mine and I love you.
  Lend thine ear to what I say.
}

stanzaOneThree = \lyricmode {
  Child, I have no great -- er joy
  Than to have you walk in truth.
}

\new Voice {
  \repeat volta 2 {
    c'8 c' c' c' c' c' c'4
    c'8 c' c' c' c' c' c'4
  }
}
\addlyrics { \stanzaOneOne }
\addlyrics { \stanzaOneThree }

@end lilypond


@node Adding dynamics marks to stanzas
@subsection Indication de nuance dans les couplets

Lorsque des couplets ont des nuances différentes, vous pouvez ajouter
une nuance en regard de chacun d'eux.  L'objet @code{StanzaNumber}
contient tout ce qui se place avant les paroles du couplet.  Pour des
raisons techniques, vous devrez définir la variable @code{stanza} en
dehors du mode @code{\lyricmode}.

@lilypond[quote,ragged-right,verbatim]
text = {
  \set stanza = \markup { \dynamic "ff" "1. " }
  \lyricmode {
    Big bang
  }
}

<<
  \new Voice = "tune" {
    \time 3/4
    g'4 c'2
  }
\new Lyrics \lyricsto "tune" \text
>>
@end lilypond


@node Adding singers' names to stanzas
@subsection Indication du personnage et couplets

@cindex nom de personnage
@cindex nom du chanteur
@cindex rôle

On peut également ajouter le nom de chaque rôle ; ils s'imprimeront
au début de chaque ligne comme les noms d'instrument.  Il faut pour cela
définir @code{vocalName}, et @code{shortVocalName} pour une version
abrégée.

@lilypond[ragged-right,quote,verbatim]
\new Voice \relative {
  \time 3/4 g'2 e4 a2 f4 g2.
} \addlyrics {
  \set vocalName = "Bert "
  Hi, my name is Bert.
} \addlyrics {
  \set vocalName = "Ernie "
  Oh, ché -- ri, je t'aime
}
@end lilypond


@node Stanzas with different rhythms
@subsection Rythme différent selon le couplet

Il arrive assez souvent que le paroles de différents couplets, bien
qu'attachées à une même mélodie, ne s'articulent pas de la même manière.
La commande @code{\lyricsto} est cependant capable de gérer de telles
situations.


@subsubheading Mélismes dans certaines strophes seulement
@c VO: Ignoring melismata

Il peut survenir que les paroles comportent un mélisme pour l'un des
couplets, mais plusieurs syllabes pour d'autres.  Une solution consiste
à ignorer temporairement les mélismes dans le couplet ayant le plus de
syllabes.  Il suffit pour cela de définir la propriété
@code{ignoreMelismata} à l'intérieur du contexte @code{Lyrics}.

Petit détail qui a son importance : l'activation de
@code{ignoreMelismata} doit @strong{précéder} la syllabe à partir de
laquelle elle s'appliquera :

@lilypond[verbatim,ragged-right,quote]
<<
  \relative \new Voice = "lahlah" {
    \set Staff.autoBeaming = ##f
    c'4
    \slurDotted
    f8.[( g16])
    a4
  }
  \new Lyrics \lyricsto "lahlah" {
    more slow -- ly
  }
  \new Lyrics \lyricsto "lahlah" {
    go
    \set ignoreMelismata = ##t
    fas -- ter
    \unset ignoreMelismata
    still
  }
>>
@end lilypond

@knownissues
Contrairement aux autres utilisations de l'instruction @code{\set}, il
n'est pas possible de la faire précéder d'un @code{\once} dans le cas de
@code{\set ignoreMelismata}.  Les paroles affectées par la
propriété @code{ignoreMelismata} @strong{doivent} être encadrées
respectivement d'un @code{\set} et d'un @code{\unset}.


@subsubheading Syllabe sur note de passage
@c VO: Adding syllables to grace notes

@cindex ornement et paroles
@cindex paroles et ornement

L'utilisation de la commande @code{\lyricsto} ne permet pas, par
défaut, d'assigner une syllabe à des notes d'ornement -- introduites par
la commande @code{\grace}.  Vous pouvez cependant y parvenir grâce à la
propriété @code{includeGraceNotes} :

@lilypond[verbatim,ragged-right,quote]
<<
  \new Voice = melody \relative {
    f'4 \appoggiatura a32 b4
    \grace { f16 a16 } b2
    \afterGrace b2 { f16[ a16] }
    \appoggiatura a32 b4
    \acciaccatura a8 b4
  }
  \new Lyrics
  \lyricsto melody {
    normal
    \set includeGraceNotes = ##t
    case,
    gra -- ce case,
    after -- grace case,
    \set ignoreMelismata = ##t
    app. case,
    acc. case.
  }
>>
@end lilypond

@knownissues
Tout comme pour la propriété @code{associatedVoice}, la propriété
@code{includeGraceNotes} doit être activée au moins une syllabe avant
celle qui viendra s'attacher à la note d'ornement. Dans le cas où cette
note se trouve être la première de la pièce, vous devrez recourir à une
clause @code{\with} ou introduire une section @code{\context} dans le
bloc @code{\layout} :

@lilypond[verbatim,ragged-right,quote]
<<
  \new Voice = melody \relative c' {
    \grace { c16( d e f }
    g1) f
  }
  \new Lyrics \with { includeGraceNotes = ##t }
  \lyricsto melody {
    Ah __ fa
  }
>>
@end lilypond


@subsubheading Basculer vers une mélodie alternative
@c VO: Switching to an alternative melody

@funindex associatedVoice
@cindex alternative, bascule sur une mélodie
@cindex mélodie alternative

On peut créer des variations plus complexes à partir d'une mélodie à
plusieurs voix.  Les paroles peuvent suivre l'une ou l'autre des
lignes mélodiques, et même basculer de l'une à l'autre si l'on
modifie la propriété @code{associatedVoice}.  Dans cet exemple,

@lilypond[verbatim,quote]
<<
  \relative \new Voice = "lahlah" {
    \set Staff.autoBeaming = ##f
    c'4
    <<
      \new Voice = "alternative" {
        \voiceOne
        \tuplet 3/2 {
          % show associations clearly.
          \override NoteColumn.force-hshift = -3
          f8 f g
        }
      }
      {
        \voiceTwo
        f8.[ g16]
        \oneVoice
      } >>
    a8( b) c
  }
  \new Lyrics \lyricsto "lahlah" {
    Ju -- ras -- sic Park
  }
  \new Lyrics \lyricsto "lahlah" {
    % Tricky: need to set associatedVoice
    % one syllable too soon!
    \set associatedVoice = alternative % applies to "ran"
    Ty --
    ran --
    no --
    \set associatedVoice = lahlah % applies to "rus"
    sau -- rus Rex
  } >>
@end lilypond

@noindent
le texte du premier couplet s'aligne de manière habituelle sur la
mélodie nommée « lahlah ».  Mais le second couplet, tout d'abord
rattaché au contexte @code{lahlah}, bascule sur la mélodie
@code{alternative} pour les syllabes « ran » à « sau » grâce aux lignes

@example
\new Lyrics \lyricsto "lahlah" @{
  \set associatedVoice = alternative % s'applique à "ran"
  Ty --
  ran --
  no --
  \set associatedVoice = lahlah % s'applique à "rus"
  sau -- rus Rex
@}
@end example

@noindent
où @code{alternative} désigne le nom du contexte @code{Voice} qui contient
le triolet.

Notez bien où apparaît la commande @code{\set associatedVoice} --
une syllabe en avance, ce qui est tout à fait correct.

@warning{La commande @code{@bs{}set associatedVoice} @strong{doit}
intervenir une syllabe @i{avant} celle qui sera suivie par la bascule.
Autrement dit, une modification de la voix associée sera effective une
syllabe plus tard que prévu.  Il ne s'agit en aucun cas d'une bogue, la
raison en est purement technique.}


@node Printing stanzas at the end
@subsection Paroles en fin de partition

Il peut parfois s'avérer opportun d'aligner un seul couplet sur la
mélodie et de présenter tous les autres en bloc à la fin du morceau.
Ces couplets additionnels peuvent être inclus dans une section
@code{\markup} en dehors du bloc @code{\score} principal. Vous pourrez
noter qu'il existe différentes méthodes pour indiquer les
sauts de ligne en mode @emph{markup}. On peut saisir du texte en continu
avec @code{string-lines} et y insérer des @code{\n} ou couper
automatiquement selon la saisie, ou bien utiliser
@code{\wordwrap-string}. Dans le cas de formatages différent au sein du
bloc, il vaut mieux utiliser une combinaison de @code{\line} et
@code{\column}.

@c KEEP LY
@lilypond[ragged-right,verbatim,quote]
melody = \relative {
  \time 2/4
  g'4 g8 b | b a b a |
  g4 g8 b | b a b4 |
}

text = \lyricmode {
  \set stanza = "1."
  À la clai- re fon- tai- ne,
  M'en al- lant pro- me- ner...
}

\score{ <<
  \new Voice = "one" { \melody }
  \new Lyrics \lyricsto "one" \text
>>
  \layout { }
}

\markup \column \string-lines
  "Couplet 2. \n Sous les feuilles d'un chêne \n Je me suis fait sécher..."

\markup \column \string-lines
  "Couplet 3.
   Chante, rossignol, chante,
   Toi qui as le cœur gai..."

\markup \column {
    \line \italic { Couplet 4. }
    \line { J'ai perdu mon ami }
    \line { Sans l'avoir mérité... }
}

\markup \wordwrap-string "
  Couplet 5.

  Je voudrais que la rose

  Fût encore au rosier..."
@end lilypond


@node Printing stanzas at the end in multiple columns
@subsection Paroles sur plusieurs colonnes en fin de partition

Si les couplets sont vraiment nombreux, il est possible de les imprimer
sur plusieurs colonnes.  L'exemple suivant vous montre comment procéder
pour que le numéro du couplet soit en retrait à gauche, comme c'est
traditionnellement le cas.

@c KEEP LY
@lilypond[ragged-right,quote,verbatim]
melody = \relative {
  \time 2/4
  g'4 g8 b | b a b a |
  g4 g8 b | b a b4 |
}

text = \lyricmode {
  \set stanza = "1." À la clai- re fon- tai- ne,
  M'en al- lant pro- me- ner...
}

\score{ <<
    \new Voice = "one" { \melody }
    \new Lyrics \lyricsto "one" \text
   >>
  \layout { }
}

\markup {
  \fill-line {
    % décalage par rapport à la marge de gauche
    % peut être supprimé si l'espace sur la page est réduit
    \hspace #0.1
    \column {
      \line { \bold "2."
        \column {
          "Sous les feuilles d'un chêne"
          "Je me suis fait sécher..."
        }
      }
      % ajout d'espace vertical entre les couplets
      \combine \null \vspace #0.1
      \line { \bold "3."
        \column {
          "Chante, rossignol, chante,"
          "Toi qui as le cœur gai..."
        }
      }
    }
    % ajout d'espace horizontal entre les colonnes
    \hspace #0.1
    \column {
      \line { \bold "4."
        \column {
          "J'ai perdu mon ami"
          "Sans l'avoir mérité..."
        }
      }
      % ajout d'espace vertical entre les couplets
      \combine \null \vspace #0.1
      \line { \bold "5."
        \column {
          "Je voudrais que la rose"
          "Fût encore au rosier..."
        }
      }
    }
    % décalage par rapport à la marge de droite
    % peut être supprimé si l'espace sur la page est réduit
    \hspace #0.1
  }
}
@end lilypond

@morerefs
Référence des propriétés internes :
@rinternals{LyricText},
@rinternals{StanzaNumber}.
@endmorerefs


@need 1500
@node Songs
@section Chansons


@node References for songs
@subsection Références en matière de chanson

Une chanson se présente la plupart du temps sous la forme de trois
portées : une pour la mélodie surmontant un système pianistique
pour l'accompagnement ; les paroles du premier couplet s'accolent
sous la mélodie.  S'il n'y a que deux ou trois couplets, et que cela
n'est pas gênant au niveau de l'aspect général, tous peuvent prendre
place entre la mélodie et l'accompagnement.  Dans le cas contraire, le
premier couplet sera imprimé sous la mélodie et les suivants après la
partition, sous forme de blocs de texte indépendants.

Tous les éléments qui permettent d'imprimer des chansons sont examinés à
différents endroits de la documentation de LilyPond :

@itemize

@item
L'agencement des portées est abordé au chapitre
@ref{Displaying staves}.

@item
Les spécificités du piano sont abordées au chapitre
@ref{Keyboard and other multi-staff instruments}.

@item
L'affectation de paroles à une ligne mélodique est abordée au chapitre
@ref{Common notation for vocal music}.

@item
Le positionnement des paroles fait l'objet d'une
@ref{Placing lyrics vertically, rubrique dédiée}.

@item
La gestion des couplets est abordée dans un
@ref{Stanzas,chapitre spécifique}.

@item
L'harmonisation d'une chanson est souvent indiquée par des noms d'accord
en surplomb de la mélodie.  Ceci est abordé au chapitre
@ref{Displaying chords}.

@item
L'impression de diagrammes d'accord, lorsque l'accompagnement est fait à
la guitare, est expliqué à la rubrique « Tablatures sous forme
d’étiquette », au chapitre @ref{Common notation for fretted strings}.

@end itemize

@morerefs
Manuel d'initiation :
@rlearningnamed{Songs, Chansons}.

Manuel de notation :
@ref{Stanzas},
@ref{Displaying chords},
@ref{Displaying staves},
@ref{Keyboard and other multi-staff instruments},
@ref{Placing lyrics vertically},
@ref{Common notation for vocal music}.

Morceaux choisis :
@rlsrnamed{Vocal music,Musique vocale}.
@endmorerefs


@node Lead sheets
@subsection Feuille de chant

Une simple feuille de chant s'obtient en combinant une partie vocale et
son harmonisation.  La syntaxe appropriée est expliquée en détails au
chapitre @ref{Chord notation}.

@snippets
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/simple-lead-sheet.ly}

@morerefs
Manuel de notation :
@ref{Chord notation}.
@endmorerefs


@node Choral
@section Chorale

@cindex motet
@cindex partie vocale
@cindex chœur, partition de
@cindex oratorio
@cindex SATB

Nous allons voir, dans les paragraphes qui suivent, les particularités de
la musique chorale, qu'il s'agisse de motet, d'oratorio ou de simple
partie de chœur.


@node References for choral
@subsection Références en matière de chorale

Une partition pour chœur comporte habituellement de deux à quatre
portées regroupées dans un @code{ChoirStaff}.  L'accompagnement, s'il y
en a un, se présente sous la forme d'un système pianistique -- un
@code{PianoStaff} -- en dessous du chœur ; il s'agira d'une simple
réduction dans le cas d'une œuvre @emph{a capella}.  Les notes de chaque
pupitre font l'objet d'un contexte @code{Voice} distinct.  Ces contextes
@code{Voice} peuvent se voir groupés ou non sur une même portée.

Les paroles sont traitées dans des contextes @code{Lyrics} qui viendront
se placer tantôt sous la portée, tantôt au-dessus et au-dessous de la
portée si elle contient deux voix.

Certaines composantes d'une partition pour chœur sont examinées à
différents endroits de la documentation de LilyPond :

@itemize

@item
La création pas à pas d'une partition pour chœur se trouve dans le
manuel d'initiation, à la rubrique
@rlearningnamed{Four-part SATB vocal score, Partition pour chœur à quatre voix mixtes}.
LilyPond dispose aussi d'un canevas automatisé qui simplifie grandement
la saisie d'une partition pour chœur SATB disponible à la rubrique
@rlearningnamed{Built-in templates, Gabarits préprogrammés}.

@item
Plusieurs exemples et canevas sont regroupés dans le manuel
d'initiation, à la rubrique @rlearningnamed{Vocal ensembles templates, Modèles pour ensemble vocal}.

@item
Des informations détaillées sur les contextes @code{ChoirStaff} et
@code{PianoStaff} sont disponibles au chapitre
@ref{Grouping staves}.

@item
Les formes de notation particulière, telle que celle utilisée en
@emph{Sacred Harp} et assimilées, sont abordées au chapitre
@ref{Shape note heads}.

@item
Lorsque plusieurs pupitres sont regroupés sur la même portée, les
hampes, liaisons, etc. de la voix supérieure sont orientées vers le
haut, et inversement pour la voix inférieure.  L'utilisation de
@code{\voiceOne} et @code{\voiceTwo} est expliquée au chapitre
@ref{Single-staff polyphony}.

@item
La division temporaire d'un pupitre, ce qui correspond à un
passage polyphonique temporaire, est expliquée à la section
@ref{Single-staff polyphony}.

@end itemize

@predefined
@code{\oneVoice},
@code{\voiceOne},
@code{\voiceTwo}.
@endpredefined

@morerefs
Manuel d'initiation :
@rlearningnamed{Vocal ensembles templates, Modèles pour ensemble vocal},
@rlearningnamed{Four-part SATB vocal score, Partition pour chœur à quatre voix mixtes}.

Manuel de notation :
@ref{Context layout order},
@ref{Single-staff polyphony},
@ref{Grouping staves},
@ref{Shape note heads}.

Morceaux choisis…:
@rlsrnamed{Vocal music,Musique vocale}.

Référence des propriétés internes…:
@rinternals{ChoirStaff},
@rinternals{Lyrics},
@rinternals{PianoStaff}.
@endmorerefs


@node Score layouts for choral
@subsection Mise en forme d'une partition chorale

Une partition pour chœur sur quatre portées, avec ou sans
accompagnement, présente traditionnellement deux systèmes par page.
Selon la taille du papier, vous pourrez être amené à effectuer quelques
ajustements aux réglages par défaut, notamment en raison des points
suivants :

@itemize

@item
La taille des portées a des répercussions sur l'ensemble des éléments de
la partition.  Voir @ref{Setting the staff size}.

@item
La distance séparant les systèmes, les portées et les paroles peut
s'ajuster de manière séparée, comme expliqué au chapitre
@ref{Vertical spacing}.

@item
La mise en évidence des différentes dimensions permet d'appréhender avec
finesse le réglage des variables d'espacement vertical et, pourquoi pas,
de faire tenir la partition sur moins de pages, comme l'explique la
rubrique @ref{Fitting music onto fewer pages}.

@item
Lorsque le nombre de systèmes varie d'une page à l'autre, il est
judicieux de l'indiquer visuellement, en suivant les instructions de la
rubrique @ref{Separating systems}.

@item
Pour de plus amples détails quant aux propriétés liées au formatage,
consultez le chapitre @ref{Page layout}.

@end itemize

Les indications de nuance se placent traditionnellement sous la portée,
ce qui n'est pas le cas en matière de musique vocale dans le but
d'éviter toute collision avec les paroles.  La commande prédéfinie
@code{\dynamicUp} attachée à un contexte @code{Voice} permet de
positionner les nuances au-dessus de la portée.  Dans le cas où il y en
aurait plusieurs, cette commande devra apparaître dans chacun des
contextes @code{Voice} qui le requiert.  Vous pouvez aussi opter pour la
forme développée, comme dans l'exemple ci-dessous, pour que cela
s'applique à toutes les portées de la partition -- changez
@code{\Score} en @code{\ChoirStaff} s'il y a d'autres parties que celles
du chœur.

@lilypond[verbatim,quote]
\score {
  \new ChoirStaff <<
    \new Staff {
      \new Voice {
        \relative { g'4\f g g g }
      }
    }
    \new Staff {
      \new Voice {
        \relative { d'4 d d\p d }
      }
    }
  >>
  \layout {
    \context {
      \Score
      \override DynamicText.direction = #UP
      \override DynamicLineSpanner.direction = #UP
    }
  }
}
@end lilypond

@predefined
@code{\dynamicUp},
@code{\dynamicDown},
@code{\dynamicNeutral}.
@endpredefined

@morerefs
Manuel de notation :
@ref{Setting the staff size},
@ref{Vertical spacing},
@ref{Displaying spacing},
@ref{Page layout},
@ref{Score layout},
@ref{Changing spacing},
@ref{Fitting music onto fewer pages},
@ref{Breaks},
@ref{Separating systems}.

Référence des propriétés internes :
@rinternals{VerticalAxisGroup},
@rinternals{StaffGrouper}.
@endmorerefs


@snippets
@cindex voix, division
@cindex division de voix
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/using-arpeggiobracket-to-make-divisi-more-visible.ly}

@morerefs
Manuel de notation :
@ref{Expressive marks as lines}.
@endmorerefs


@node Opera and stage musicals
@section Opéras et musiques de scène

@cindex conducteur
@cindex vocale, partition
@cindex chorale, partition
@cindex opérette

Tout ce qui permet d'exécuter un opéra ou une œuvre scénique accompagnée
de musique se présente généralement sous l'une ou plusieurs des formes
suivantes :

@itemize

@item
Un @emph{Conducteur} destiné au chef d'orchestre.  Il comprend
l'intégralité des parties d'orchestre et des chanteurs, ainsi que des
citations du livret pour les passages déclamés.

@item
Un @emph{matériel d'orchestre}, autrement dit une partition pour chacun
des pupitres de l'orchestre ou de l'ensemble instrumental.

@item
Une @emph{partition de chœur} regroupant toutes les parties vocales avec
accompagnement au piano.  Cet accompagnement est souvent une réduction
d'orchestre où les différents instruments sont indiqués.  Les partitions
de chœur comprennent parfois des indications de mise en scène ainsi que
des extraits du livret.

@item
Une @emph{partition de choriste} qui ne comprend que les parties vocales
-- donc sans accompagnement.  Elle peut être augmentée du livret.

@item
Un @emph{livret} contenant l'intégralité des dialogues et le texte des
passages chantés.  On y trouve aussi très souvent les indications de
mise en scène.  Bien que LilyPond soit capable de « typographier » un
livret, n'oubliez pas qu'il n'y a dans ce cas pas de musique, et que
d'autres outils pourraient être mieux appropriés.

@end itemize

La plupart de ce qui est nécessaire à la mise en forme d'un opéra ou
d'une musique de scène est disséminé dans la somme documentaire de
LilyPond.  Nous commencerons par rappeler ces différents éléments, avant
que d'en examiner certaines particularités adaptées aux styles
opératique et scénique.


@node References for opera and stage musicals
@subsection Références en matière d'opéra et musique de scène

@cindex orchestrale, musique
@cindex ensemble, musique d'
@cindex orchestre, notation pour
@cindex conducteur
@cindex opéra

En plus des formations scéniques ou vocales, la plupart des notions
qui suivent peuvent s'appliquer aux orchestres et autres musiques
d'ensemble.

@itemize

@item
Un conducteur contient un certain nombre de portées et de nombreuses
paroles.  Les manières d'agencer les portées sont indiquées à la
rubrique @ref{Grouping staves}, et les façons de les combiner à
la rubrique @ref{Nested staff groups}.

@item
Les portées vides sont la plupart du temps éliminées d'un conducteur ou
d'une partition de chœur.  La réalisation d'une telle partition --  les
anglophones la disent « à la française » -- est expliquée à la rubrique
@ref{Hiding staves}.

@item
La génération d'un matériel d'orchestre fait l'objet de la rubrique
@ref{Writing parts}.  D'autres parties du chapitre
consacré à la notation spécialisée vous seront utiles selon
l'orchestration de la pièce.  Tous les instruments ne sont pas accordés
pareil ; vous trouverez des informations à ce sujet à la rubrique
@ref{Instrument transpositions}.

@item
Lorsque le nombre de systèmes varie d'une page à l'autre, il peut être
judicieux de les mettre en évidence, en suivant les indications de la
rubrique @ref{Separating systems}.

@item
Les différentes propriétés impliquées dans la mise en page sont
répertoriées au chapitre @ref{Page layout}.

@item
L'insertion de dialogues et d'indications de mise en scène peuvent se
réaliser à l'aide de @emph{markups}, en suivant les directives fournies
aux chapitres @ref{Creating footnotes} et @ref{Text}.  Les
indications de mise en scène peuvent s'intercaler entre deux blocs
@code{\score} selon les préceptes de la rubrique
@ref{Separate text}.

@end itemize

@morerefs
Glossaire musicologique :
@rglosnamed{Frenched score,Partition à la française},
@rglos{Frenched staves},
@rglosnamed{transposing instrument,instrument transpositeur}.

Manuel de notation :
@ref{Writing text},
@ref{Writing parts},
@ref{Nested staff groups},
@ref{Instrument transpositions},
@ref{Hiding staves},
@ref{Page layout},
@ref{Creating footnotes},
@ref{Grouping staves},
@ref{Separating systems},
@ref{Transpose}.

Morceaux choisis :
@rlsrnamed{Vocal music,Musique vocale}.
@endmorerefs


@node Character names
@subsection Indication du rôle

@cindex rôle, indication
@cindex personnage, indication

Lorsqu'un rôle est distribué sur une portée spécifique, vous pouvez
l'indiquer en regard de cette portée :

@lilypond[quote,verbatim,ragged-right]
\score {
  <<
    \new Staff {
      \set Staff.vocalName = \markup \smallCaps Kaspar
      \set Staff.shortVocalName = \markup \smallCaps Kas.
      \relative {
        \clef "G_8"
        c'4 c c c
        \break
        c4 c c c
      }
    }
    \new Staff {
      \set Staff.vocalName = \markup \smallCaps Melchior
      \set Staff.shortVocalName = \markup \smallCaps Mel
      \clef "bass"
      \relative {
        a4 a a a
        a4 a a a
      }
    }
  >>
}
@end lilypond

Lorsque la même portée sert à plusieurs personnages, leur nom est
généralement imprimé en surplomb de la portée, à chaque changement de
rôle.  L'utilisation d'un @emph{markup} -- dans une fonte réservée à cet
effet -- vous permettra de générer ces indications :

@lilypond[quote,verbatim]
\relative c' {
  \clef "G_8"
  c4^\markup \fontsize #1 \smallCaps Kaspar
  c c c
  \clef "bass"
  a4^\markup \fontsize #1 \smallCaps Melchior
  a a a
  \clef "G_8"
  c4^\markup \fontsize #1 \smallCaps Kaspar
  c c c
}
@end lilypond

Dans le cas où les changements de personnage se multiplient, il peut
s'avérer pratique d'affecter à des variables la définition de
chacun des rôles afin de simplifier la gestion des différentes
interventions de l'un ou de l'autre.

@lilypond[quote,verbatim]
kaspar = {
  \clef "G_8"
  \set Staff.shortVocalName = "Kas."
  \set Staff.midiInstrument = "voice oohs"
  <>^\markup \smallCaps "Kaspar"
}

melchior = {
  \clef "bass"
  \set Staff.shortVocalName = "Mel."
  \set Staff.midiInstrument = "choir aahs"
  <>^\markup \smallCaps "Melchior"
}

\relative c' {
  \kaspar
  c4 c c c
  \melchior
  a4 a a a
  \kaspar
  c4 c c c
}
@end lilypond

@morerefs
Manuel d'initiation :
@rlearningnamed{Organizing pieces with variables, Organisation du code source avec des variables}.

Manuel de notation :
@ref{Text markup commands},
@ref{Text}.
@endmorerefs


@node Musical cues
@subsection Citation-repère

@cindex musicale, citation
@cindex instrument, citation
@cindex chœur, citation d'instrument

Les citations d'instruments insérées dans les parties vocales, les
partitions de chœur ou les partitions d'un pupitre permettent d'indiquer
ce qui se passe ailleurs juste avant une entrée.  On les retrouve
souvent dans la réduction pour piano, ce qui fournit au chef de chœur
de précieuses indications sur qui joue quoi, lorsqu'il ne dispose pas
d'un conducteur en bonne et due forme.

Les mécanismes de base permettant d'insérer des citations sont expliqués
en détail aux rubriques @ref{Quoting other voices} et
@ref{Formatting cue notes}.  Dans le cas où les citations
concernent différents instruments, faire mention de celui qui intervient
devient une nécessité ; voici une illustration de la manière de
procéder en pareil cas :

@lilypond[quote,verbatim]
flute = \relative {
  s4 s4 e'' g
}
\addQuote "flute" { \flute }

pianoRH = \relative {
  c''4. g8
  % position name of cue-ing instrument just before the cue notes,
  % and above the staff
  <>^\markup { \right-align { \tiny "Flute" } }
  \cueDuring "flute" #UP { g4 bes4 }
}
pianoLH = \relative { c4 <c' e> e, <g c> }

\score {
  \new PianoStaff <<
    \new Staff {
      \pianoRH
    }
    \new Staff {
      \clef "bass"
      \pianoLH
    }
  >>
}
@end lilypond

La citation peut concerner un instrument transpositeur, auquel cas il
faudra mentionner sa tonalité dans sa définition, afin que ses hauteurs
soient automatiquement converties dans la réplique.  Ceci est illustré
par l'exemple ci-dessous, dans lequel il est fait appel à une clarinette
en si bémol.  Dans la mesure où les notes citées se trouvent vers le bas
de la portée, nous affectons un @code{DOWN} à la commande
@code{\cueDuring}, de telle sorte que les hampes aillent vers le bas et
que le nom de l'instrument cité soit en dessous de la portée.

@lilypond[quote,verbatim]
clarinet = \relative c' {
  \transposition bes
  fis4 d d c
}
\addQuote "clarinet" { \clarinet }

pianoRH = \relative c'' {
  \transposition c'
  % position name of cue-ing instrument below the staff
  <>_\markup { \right-align { \tiny "Clar." } }
  \cueDuring "clarinet" #DOWN { c4. g8 }
  g4 bes4
}
pianoLH = \relative { c4 <c' e> e, <g c> }

\score {
  <<
    \new PianoStaff <<
      \new Staff {
        \new Voice {
          \pianoRH
        }
      }
      \new Staff {
        \clef "bass"
        \pianoLH
      }
    >>
  >>
}
@end lilypond

Il est clair, au vu de ces deux exemples, que multiplier le nombre de
citations dans une partition vocale demande un travail fastidieux et que
relire la partie de piano deviendra vite un cauchemar.  Vous pouvez
néanmoins, comme l'illustre l'exemple suivant, définir une fonction
musicale dans le but de vous épargner de la saisie tout en améliorant
la lisibilité des notes du piano.

@snippets

@cindex citation, partition chorale
@cindex chorale, citation instrumentale
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/adding-orchestral-cues-to-a-vocal-score.ly}

@morerefs
Glossaire musicologique :
@rglos{cue-notes}.

Manuel de notation :
@ref{Aligning objects},
@ref{Quoting other voices},
@ref{Direction and placement},
@ref{Formatting cue notes},
@ref{Using music functions}.

Morceaux choisis :
@rlsrnamed{Vocal music,Musique vocale}.

Référence des propriétés internes :
@rinternals{CueVoice}.
@endmorerefs

@knownissues
@code{\cueDuring} crée automatiquement un contexte @code{CueVoice} qui
accueillera toutes les notes répliquées.  Il est par conséquent
impossible de faire se superposer des citations à l'aide de la technique
simplifiée telle que nous venons de le voir.  La superposition de
fragments cités requiert que les contextes @code{CueVoice} soient
explicitement déclarés, ainsi que l'utilisation de la commande
@code{\quoteDuring} pour extraire et insérer les notes répliquées.


@node Spoken music
@subsection Musique parlée

@cindex parlato
@cindex Sprechgesang

Le @emph{parlato} -- ou @emph{Sprechgesang} pour les germanistes -- est
du texte scandé en rythme, mais sans hauteurs définies ; il est
indiqué par des notes en croix, à l'instar des percussions -- voir
@ref{Special note heads}.

@c TODO add "marking-notes-on-spoken-parts" snippet -vv
@c add "showing the rhythm of a melody" snip
@c add "one staff-line notation"
@c add "improvisation" ref
@c add "lyrics independents of notes" ref


@node Dialogue over music
@subsection Dialogue et musique

Les dialogues que l'on ajoute à la musique sont traditionnellement
imprimés en italique au-dessus des portées, au moment même où ils
surviennent.

Une courte intervention peut se formuler à l'aide d'un simple
@emph{markup} :

@lilypond[quote,verbatim]
\relative {
  a'4^\markup { \smallCaps { Alex - } \italic { He's gone } } a a a
  a4 a a^\markup { \smallCaps { Bethan - } \italic Where? } a
  a4 a a a
}
@end lilypond

Une intervention un peu plus longue peut nécessiter d'étirer la musique
de telle sorte que le texte ait suffisamment de place.  LilyPond ne
disposant d'aucun mécanisme permettant d'automatiser l'étirement, vous
devrez probablement ajuster vous même la mise en forme.

Dans le cas d'une phrase entière ou de passages relativement denses, le
recours à un contexte @code{Lyrics} peut donner de meilleurs résultats.
Le contexte @code{Lyrics} en question ne doit être rattaché à aucune
voix musicale ; chaque fragment de dialogue devra donc comporter
des durées explicites.  Lorsque les dialogues comportent des pauses, le
dernier mot devra être séparé du reste et les durées individualisées
pour obtenir un espacement harmonieux de la musique.

Des dialogues qui s'étendent sur plus d'une ligne vous obligeront à
insérer des @code{\break} et ajuster leur placement pour éviter qu'ils
ne débordent dans la marge droite.  Le dernier mot de la dernière mesure
d'une ligne doit être saisi sur une ligne à part.

Voici une illustration de tout ce que nous venons de voir :

@c This should be a snippet, but it can't be as it needs to be
@c manually adjusted to suit the imposed line length.  -td

@lilypond[quote,verbatim,ragged-right]
music = \relative {
  \repeat unfold 3 { a'4 a a a }
}

dialogue = \lyricmode {
  \markup {
    \fontsize #1 \upright \smallCaps Abe:
    "Say this over measures one and"
  }4*7
  "two"4 |
  \break
  "and this over measure"4*3
  "three"4 |
}

\score {
  <<
    \new Lyrics \with {
      \override LyricText.font-shape = #'italic
      \override LyricText.self-alignment-X = #LEFT
    }
    { \dialogue }
    \new Staff {
      \new Voice { \music }
    }
  >>
}
@end lilypond

@c TODO show use of \column to produce dialogue on two lines

@morerefs
Manuel de notation :
@ref{Manual syllable durations},
@ref{Text}.

Référence des propriétés internes :
@rinternals{LyricText}.
@endmorerefs


@node Chants psalms and hymns
@section Chants liturgiques

@cindex cantique
@cindex psalmodie
@cindex hymne
@cindex religieuse, musique
@cindex liturgie et musique

Selon les chapelles, la mise en forme des cantiques, psaumes et hymnes
répond à des canons bien établis.  Bien que différents de par leur
présentation, nous verrons dans ce qui suit que les problèmes qui
surviennent en matière de typographie se ressemblent, quelle que soit
l'obédience.


@node References for chants and psalms
@subsection Références en matière de chant liturgique

La présentation du plain chant et du grégorien selon différents styles
est abordée au chapitre @ref{Ancient notation}.

@morerefs
Manuel de notation :
@ref{Ancient notation}.

Morceaux choisis :
@rlsrnamed{Vocal music,Musique vocale}.
@endmorerefs


@node Setting a chant
@subsection Cantiques et hymnes

La mise en forme contemporaine de cantiques utilise à la fois la
notation moderne et un certain nombre d'éléments propres aux notations
anciennes.  Nous allons examiner quelques uns de ces éléments et la
méthode consacrée pour les mettre en œuvre.

Les cantiques utilisent souvent des noires dépourvues de hampe pour
indiquer les hauteurs ; le rythme de la mélodie est donné par le
rythme et l'accentuation des paroles elles-mêmes.

@lilypond[verbatim,quote]
stemOff = { \hide Staff.Stem }

\relative c' {
  \stemOff
  a'4 b c2 |
}
@end lilypond

Les barres de mesure sont absentes dans la plupart des cas ; celles
que vous rencontrerez seront raccourcies ou en pointillé, dans le but
d'indiquer une « respiration ». Pour obtenir un chant non mesuré, voir
@ref{Unmetered music}. Pour préseerver tous les effets d'une
métrique tout en désactivant les barres de mesure automatiques, il
faudra régler @code{measureBarType} à @code{'()}. Sans barre de mesure à
intervalle régulier, vous devrez gérer manuellement l'espacement
horizontal -- voir @ref{Line breaking}.

@lilypond[verbatim,quote]
\score {
  \new StaffGroup <<
    \new Staff {
      \relative {
        a'4 b c2 |
        a4 b c2 | \section
        a4 b c2 |
      }
    }
    \new Staff {
      \relative {
        a'4 b c2 |
        a4 b c2 | \section
        a4 b c2 |
      }
    }
  >>
  \layout {
    \context {
      \Staff
      measureBarType = #'()
      forbidBreakBetweenBarLines = ##f
    }
  }
}
@end lilypond

@noindent
L'absence de barre de mesure peut ne concerner que certaines portées --
voir @ref{Modifying context plug-ins}.

Dans la mélodie d'un cantique, les silences ou pauses s'indiquent à
l'aide de barres de mesure spécifiques :

@lilypond[verbatim, quote]
\relative a' {
  a4
  \cadenzaOn
  b c2
  a4 b c2
  \bar "'"
  a4 b c2
  \bar ","
  a4 b c2
  \bar ";"
  a4 b c2
  \bar "!"
  a4 b c2
  \bar "||"
}
@end lilypond

Vous pouvez accessoirement, bien qu'il s'agisse de notation moderne,
emprunter au grégorien des indications de pause et silence.

@lilypond[verbatim,quote]
\score {
  \relative {
    g'2 a4 g
    \divisioMinima
    g2 a4 g
    \divisioMaior
    g2 a4 g
    \divisioMaxima
    g2 a4 g
    \finalis
  }
  \layout {
    \context {
      \Staff
      \remove Bar_engraver
      \consists Divisio_engraver
      caesuraType = #'((breath . chantquarterbar))
    }
  }
}
@end lilypond

De nombreux cantiques sont dépourvus de métrique, voire même de clef.

@lilypond[verbatim,quote]
\score {
  \new Staff {
    \relative {
      a'4 b c2 |
      a4 b c2 |
      a4 b c2 |
    }
  }
  \layout {
    \context {
      \Staff
      \remove Time_signature_engraver
      \remove Clef_engraver
      measureBarType = #'()
      forbidBreakBetweenBarLines = ##f
    }
  }
}
@end lilypond

L'une des traditions anglicanes est de chanter les psaumes sur la base
d'un fragment de sept mesures -- forme @emph{single} ou simple -- ou de
deux fragments toujours de sept mesures -- forme @emph{double}.  Chaque
fragment est divisé en deux parties correspondant aux deux moitiés de
chaque verset et généralement séparées par une double barre.  Il n'est
fait usage que de rondes et de blanches, et la première mesure de chaque
moitié contient un simple accord de rondes.  Il s'agit donc des notes
correspondant au « récitatif ».  Ces cantiques sont traditionnellement
centrés sur la page.

@lilypond[verbatim,quote]
SopranoMusic = \relative {
  g'1 | c2 b | a1 |
  a1 | d2 c | c b | c1 |
}

AltoMusic = \relative {
  e'1 | g2 g | f1 |
  f1 | f2 e | d d | e1 |
}

TenorMusic = \relative {
  c'1 | c2 c | c1 |
  d1 | g,2 g | g g | g1 |
}

BassMusic =  \relative {
  c1 | e2 e | f1 |
  d1 | b2 c | g' g | c,1 |
}

global = {
  \time 2/2
  \skip 1*3 \section
  \skip 1*4 \fine
}

% Use markup to center the chant on the page
\markup {
  \fill-line {
    \score {  % centered
      <<
        \new ChoirStaff <<
          \new Staff <<
            \global
            \clef "treble"
            \new Voice = "Soprano" <<
              \voiceOne
              \SopranoMusic
            >>
            \new Voice = "Alto" <<
              \voiceTwo
              \AltoMusic
            >>
          >>
          \new Staff <<
            \clef "bass"
            \global
            \new Voice = "Tenor" <<
              \voiceOne
              \TenorMusic
            >>
            \new Voice = "Bass" <<
              \voiceTwo
              \BassMusic
            >>
          >>
        >>
      >>
      \layout {
        \context {
          \Score
          \override SpacingSpanner.base-shortest-duration =
            \musicLength 2
          fineBarType = "||"
        }
        \context {
          \Staff
          \remove Time_signature_engraver
        }
      }
    }  % End score
  }
}  % End markup
@end lilypond

D'autres approches d'une telle mise en forme font l'objet du premier des
exemples qui suivent.

@snippets

@cindex cantique
@cindex psaume
@cindex hymne
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/chant-or-psalms-notation.ly}

@c XXX move this text into following snippet
Cantiques et autres textes liturgiques peuvent être mis en forme avec
une grande liberté et parfois emprunter des éléments de notation
ancienne.  Le texte apparaît souvent sous la mélodie, les mots alors
alignés sur les notes.  En pareil cas, les notes sont espacées selon les
syllabes et non leur durée.

@cindex grégorien, transcription moderne
@cindex transcription, grégorien
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/ancient-notation-template----modern-transcription-of-gregorian-music.ly}

@morerefs
Manuel d'initiation :
@rlearningnamed{Visibility and color of objects, Visibilité et couleur des objets},
@rlearningnamed{Vocal ensembles templates, Modèles pour ensemble vocal}.

Manuel de notation :
@ref{Bar lines},
@ref{Modifying context plug-ins},
@ref{Unmetered music},
@ref{Ancient notation},
@ref{Typesetting Gregorian chant},
@ref{Visibility of objects}.
@endmorerefs


@node Pointing a psalm
@subsection Psalmodie

Les versets d'un psaume anglican sont habituellement centrées sous la
mélodie.

Dans le cas d'un chant simple, les sept mesures qui le composent sont
répétées pour chaque verset.  Dans le cas d'un chant double, les
quatorze mesures se répètent par couple de versets.  Des marques
insérées dans le texte indiquent comment il s'articule par rapport à la
mélodie.  Chaque verset est séparé en deux, et la rupture est indiquée
par un caractère deux points (@code{:}) correspondant à la double barre
de la mélodie.  Le texte précédant les deux points se chante sur les
trois premières mesures, celui qui suit sur les quatre dernières
mesures.

De simples barres verticales -- remplacées par des virgules inversées
dans certains psautiers -- représentent les barres de mesures portées
sur la mélodie.  En mode @emph{markup}, ces barres s'obtiennent en
saisissant le même caractère @code{|} qui sert pour les contrôles de
mesure.

@lilypond[verbatim,quote]
\markup {
  \fill-line {
    \column {
      \line { O come let us sing | unto the | Lord : let }
      \line { us heartily rejoice in the | strength of | our }
      \line { sal- | -vation. }
    }
  }
}
@end lilypond

Vous pourriez tout à fait utiliser d'autres symboles disponibles au
travers des glyphes de la fonte @code{fetaMusic} -- voir le chapitre
@ref{Fonts} pour plus de détails.

@lilypond[verbatim,quote]
tick = \markup {
  \raise #1 \fontsize #-5 \musicglyph "scripts.rvarcomma"
}
\markup {
  \fill-line {
    \column {
      \line { O come let us sing \tick unto the \tick Lord : let }
      \line { us heartily rejoice in the \tick strength of \tick our }
      \line { sal \tick vation. }
    }
  }
}
@end lilypond

Lorsqu'une mesure ne comporte qu'une ronde, le texte correspondant à
cette mesure est chanté sur cette même note, selon le rythme naturel de
la phrase.  Lorsque la mesure comporte deux notes, celles-ci
correspondent en général à une ou deux syllabes ; dans le cas
contraire, le changement de note est indiqué par un point.

@lilypond[verbatim,quote]
dot = \markup {
  \raise #0.7 \musicglyph "dots.dot"
}
tick = \markup {
  \raise #1 \fontsize #-5 \musicglyph "scripts.rvarcomma"
}
\markup {
  \fill-line {
    \column {
      \line { O come let us sing \tick unto \dot the \tick Lord : let }
      \line { us heartily rejoice in the \tick strength of \tick our }
      \line { sal \tick vation. }
    }
  }
}
@end lilypond

Certains psautiers font apparaître, pour indiquer une césure, une
astérisque au lieu d'une virgule, ainsi que des caractères gras pour les
syllabes accentuées ou allongées.

@lilypond[verbatim,quote]
dot = \markup {
  \raise #0.7 \musicglyph "dots.dot"
}
tick = \markup {
  \raise #1 \fontsize #-5 \musicglyph "scripts.rvarcomma"
}
\markup {
  \fill-line {
    \column {
      \line { Today if ye will hear his voice * }
      \line { \concat { \bold hard en } |
               not your | hearts : as in the pro- }
      \line { vocation * and as in the \bold day of tempt- | }
      \line { -ation | in the | wilderness. }
    }
  }
}
@end lilypond

D'autres psautiers indiquent une syllabe accentuée en la surchargeant
d'un accent.

@lilypond[verbatim,quote]
tick = \markup {
  \raise #2 \fontsize #-5 \musicglyph "scripts.rvarcomma"
}
\markup {
  \fill-line {
    \column {
      \line { O come let us \concat { si \combine \tick ng } |
              unto the | Lord : let }
      \line { us heartily \concat { rejo \combine \tick ice }
              in the | strength of | our }
      \line { sal- | -vation. }
    }
  }
}
@end lilypond

L'utilisation du mode @emph{markup} pour centrer le texte et agencer les
lignes est abordée en détails au chapitre @ref{Formatting text}.

La plupart de ces éléments sont regroupés dans l'un des versets du modèle
présenté à la rubrique @rlearningnamed{Psalms, Psalmodie}.

@morerefs
Manuel d'initiation :
@rlearningnamed{Vocal ensembles templates, Modèles pour ensemble vocal},
@rlearningnamed{Psalms, Psalmodie}.

Manuel de notation :
@ref{Fonts},
@ref{Formatting text}.
@endmorerefs


@node Phrase bar lines in hymn tunes
@subsection Barre de phrase en musique liturgique

@funindex \caesura
@cindex barre de mesure, hymnes
@cindex césure, barre de mesure, hymnes
@cindex phrase, barre de mesusre, hymnes

La commande @code{\caesura} peut être configurée de sorte à créer des
barres de phrase qui interagissent correctement avec les autres barres
automatiques -- voir @ref{Automatic bar lines}.

Dans les exemples suivants, le code source de la mélodie dans
@file{old-hundredth-example.ly} utilise @code{\caesura} pour séparer les
lignes poétiques et @code{\fine} à la fin. Il est aussi dépourvu des
commandes @code{\fermata} ou @code{\bar} ; ces symboles apparaissent en
raison de la configuration de la césure.

@cite{The Boston Handel and Haydn Society Collection of Church
Music} (1830) positionne une barre épaisse à la fin de chaque phrase.
Dans cet hymne, il y a aussi des points d'orgue sur les barres de
mesure :

@lilypond[verbatim,quote,line-width=158\mm]
\layout {
  \context {
    \Score
    caesuraType = #'((bar-line . ".")
                     (scripts . (fermata)))
    fineBarType = ".."
  }
}
\include "old-hundredth-example.ly"
@end lilypond

J.S. James, dans @cite{Original Sacred Harp} (1911), dispose une barre
épaisse lorsqu'un saut de ligne intervient en cours de mesure à la fin
d'une phrase.

@lilypond[verbatim,quote,line-width=158\mm]
\layout {
  \context {
    \Score
    caesuraType = #'((underlying-bar-line . "x-."))
    fineBarType = ".."
  }
}
\include "old-hundredth-example.ly"
@end lilypond


@node Partial measures in hymn tunes
@subsection Mesure incomplète et musique liturgique

Il arrive fréquemment que les chants liturgiques comportent des mesures
incomplètes aussi bien en début qu'en fin de ligne, de telle sorte qu'à
une portée corresponde une ligne de texte.  Ceci requiert donc
l'utilisation de la commande @code{\partial} en début de partition et
d'une barre de mesure à la fin de chaque ligne.

@cindex cantique, mesure incomplète
@cindex anacrouse, cantique
@lilypondfile[verbatim,quote,ragged-right,texidoc,doctitle]
{snippets/hymn-template.ly}


@node Ancient vocal music
@section Musique vocale ancienne

LilyPond prend en charge la musique vocale ancienne.  Elle est abordée
en détails au chapitre @ref{Ancient notation}.

@c TODO

@c Add "Printing both the ancient and the modern clef in vocal music" snippet,
@c and "Transcription of Ancient music with incipit" snippet. -vv

@morerefs
Manuel de notation :
@ref{Ancient notation}.
@endmorerefs
