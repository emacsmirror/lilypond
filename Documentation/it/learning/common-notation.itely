@c -*- coding: utf-8; mode: texinfo; documentlanguage: it -*-

@ignore
    Translation of GIT committish: e1b1ed92e5a973cca43d340c9f0d64062ed22a63

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  For details, see the Contributors'
    Guide, node Updating translation committishes..
@end ignore


@c \version "2.19.21"

@node Common notation
@chapter Notazione comunemente utilizzata

Questo capitolo spiega come creare dei belli spartiti che
facciano uso della notazione musicale comunemente utilizzata.
Per le operazioni di base, @pxref{Tutorial}.


@node Single staff notation
@section Notazione su un solo pentagramma

Questa sezione presenta la notazione comunemente usata per una singola voce su
un solo pentagramma.


@need 1500
@node Bar lines and bar checks
@subsection Stanghette e controlli di battuta


@node Bar lines
@unnumberedsubsubsec Stanghette

Le stanghette singole vengono aggiunte automaticamente, quindi non occorre
aggiungerle manualmente.  Si possono inserire altri tipi di stanghette
col comando @code{\bar}, per esempio @code{\bar "||"} per una stanghetta
doppia, o @code{\bar "|."} per una stanghetta finale.  La lista completa
delle stanghette si trova in @rnotationnamed{Bar lines, Stanghette}.

@lilypond[verbatim,quote]
\relative { g'1 e1 \bar "||" c2. c'4 \bar "|." }
@end lilypond

@node Bar checks
@unnumberedsubsubsec Controlli di battuta

I @emph{controlli di battuta}, pur se non strettamente necessari, dovrebbero
essere usati nel codice di input per mostrare dove si vuole che cadano le
stanghette.  Vengono inseriti col simbolo della barra verticale, @code{|}.
Grazie ai controlli di battuta, il programma può verificare che siano state
inserite delle durate che facciano sì che ogni misura raggiunga la giusta
durata.  I controlli di battuta rendono anche il codice di input più
facile da leggere, perché aiutano a tenere tutto in ordine.

@c Questo esempio produce deliberatamente un avvertimento
@lilypond[verbatim,quote]
\relative {
  g'1 | e1 | c2. c' | g4 c g e | c4 r r2 |
}
@end lilypond

Compilando questo codice dovrebbe apparire un avvertimento nell'output del
terminale:

@example
attenzione: controllo di battuta fallito a: 1/2
 g'1 | e1 | c2. c'
                   | g4 c g e | c4 r r2 |
@end example

@noindent
Sebbene in questo semplice esempio la durata mancante sia evidente nella
partitura generata, l'avvertimento nel terminale è molto più efficace
nel guidare l'attenzione al @samp{4} mancante nella terza battuta.

@morerefs
Guida alla notazione:
@rnotationnamed{Bar and bar number checks, Controlli di battuta e del numero di battuta}.
@endmorerefs

@node Pitches and key signatures
@subsection Altezze e armature di chiave

@warning{I nuovi utenti sono spesso confusi riguardo a questi concetti -- leggi
il messaggio di avviso alla fine di questa sezione.}

@node Pitch alterations
@unnumberedsubsubsec Alterazioni dell'altezza

@cindex alterazioni, accidenti
@cindex naturale
@cindex diesis
@cindex doppio diesis
@cindex diesis, doppio
@cindex bemolle
@cindex doppio bemolle
@cindex bemolle, doppio

@funindex es
@funindex is
@funindex eses
@funindex isis

Glossario musicale: @rglosnamed{sharp,diesis}, @rglosnamed{flat,bemolle},
@rglosnamed{double sharp,doppio diesis},@rglosnamed{double flat,doppio bemolle},
@rglosnamed{accidental,alterazione o accidente}.

I @notation{nomi delle note} in LilyPond identificano le altezze. Per esempio, @samp{c}
indica sempre il Do naturale, indipendentemente dall'armatura di chiave.

In molte lingue, il nome di una nota è composto da un nome di base, che si
riferisce ai gradi diatonici della scala di Do@tie{}maggiore/@/La@tie{}minore (per esempio,
@samp{d}), e un suffisso, che indica l'@notation{alterazione} di questa altezza
di base.  Il linguaggio di input predefinito dei nomi delle note è l'olandese
(nederlands). 
Un @notation{diesis} si ottiene aggiungendo il suffisso @samp{is} al nome
della nota, e un @notation{bemolle} aggiungendo @samp{es}.  Come puoi
immaginare, un @notation{doppio diesis} o un @notation{doppio bemolle}
si ottengono aggiungendo @samp{isis} o @samp{eses}.  Questa sintassi
deriva dalle convenzioni per i nomi delle note presenti nelle lingue
nordiche e germaniche, come il tedesco e l'olandese.  Per usare altri
schemi di denominazione per i nomi delle note, si veda
@rnotationnamed{Note names in other languages, Nomi delle note in altre lingue}.

@lilypond[verbatim,quote]
\relative { cis''4 ees fisis, aeses }
@end lilypond


@node Key signatures
@unnumberedsubsubsec Armature di chiave

@cindex armatura di chiave
@cindex maggiore
@cindex minore
@cindex alterazioni e armature di chiave
@cindex contenuto vs.@: layout
@cindex layout vs.@: contenuto

@funindex \key
@funindex \major
@funindex \minor

Glossario musicale: @rglosnamed{key signature,armatura di chiave},
@rglosnamed{major,maggiore}, @rglosnamed{minor,minore}.

L'@notation{armatura di chiave} viene impostata col comando @code{\key}
seguito da un'altezza e da @code{\major} o @code{\minor}.

@lilypond[verbatim,quote]
\relative {
  \key d \major
  d'4 fis a c |
  \bar "||" \key c \minor
  c,4 ees g b |
}
@end lilypond

@smallspace

@node Warning key signatures and pitches
@unnumberedsubsubsec Attenzione: armature di chiave e altezze

Glossario musicale: @rglosnamed{accidental,alterazione},
@rglosnamed{key signature,armatura di chiave}, @rglosnamed{pitch,altezza},
@rglosnamed{flat,bemolle}, @rglosnamed{natural,bequadro}, @rglosnamed{sharp,diesis},
@rglosnamed{transposition,trasposizione}.

LilyPond distingue tra contenuto musicale e la sua rappresentazione
grafica. Un input come @samp{d4 e fis2} definisce le altezze e le
durate delle note, ovvero il contenuto musicale. L'@tie{}@notation{armatura di chiave}
fa parte della rappresentazione grafica. Essa imposta anche le regole
che stabiliscono come una nota debba apparire nell'output. LilyPond
confronta ogni altezza con l'armatura di chiave per scegliere se
far apparire o meno una @notation{alterazione}.

Il comando @code{\key} imposta l'@tie{}@notation{armatura di chiave}, che ha
effetto sulla rappresentazione grafica, ma @emph{non} cambia l'altezza
assegnata a una nota, come un @samp{c} nell'input.

Considera questo esempio:

@lilypond[verbatim,quote]
\relative {
  \key d \major
  cis''4 d e fis
}
@end lilypond

@noindent
Nessuna nota ha un'alterazione rispetto all'armatura di chiave, ma devi comunque aggiungere
@samp{is} e scrivere @samp{cis} e @samp{fis} nel file di input.

Il codice @samp{b} non significa @qq{stampa uno spesso punto nero esattamente
nella linea centrale del pentagramma}.  Piuttosto, significa @qq{c'è una
nota con altezza Si-bequadro}.  Nella tonalità di La bemolle maggiore,
@emph{deve} avere un'alterazione:

@lilypond[verbatim,quote]
\relative {
  \key aes \major
  aes'4 c b c
}
@end lilypond

Per dirla con altre parole: ogni volta che inserisci un'altezza che corrisponde a un
tasto nero del pianoforte, @emph{devi} aggiungere @samp{-is} o @samp{-es} al
nome della nota.

Aggiungere esplicitamente tutte le alterazioni richiederà un po' più
di lavoro in fase di scrittura, ma il vantaggio è che la
@notation{trasposizione} è più semplice, e le alterazioni possono essere
prodotte usando diverse convenzioni.  Per alcuni esempi che mostrano come
sia possibile produrre delle alterazioni in base a regole diverse, si veda
@rnotationnamed{Automatic accidentals, Alterazioni automatiche}.


@morerefs
Guida alla notazione:
@rnotationnamed{Note names in other languages, Nomi delle note in altre lingue},
@rnotationnamed{Accidentals, Alterazioni},
@rnotationnamed{Automatic accidentals, Alterazioni automatiche},
@rnotationnamed{Key signature, Armatura di chiave}.
@endmorerefs


@need 1500
@node Ties and slurs
@subsection Legature di valore e di portamento

@cindex legatura di valore
@cindex legatura di portamento
@cindex legatura di portamento, fraseggio
@cindex legatura di fraseggio

@funindex ~
@funindex ( ... )
@funindex \( ... \)


@node Ties
@unnumberedsubsubsec Legature di valore

Glossario musicale: @rglosnamed{tie,legatura di valore}.

Una @notation{legatura di valore} si ottiene apponendo una tilde @samp{~} alla
prima delle due note legate.

@lilypond[verbatim,quote]
\relative { g'4~ 4 c2~ | 4~ 8 a~ 2 | }
@end lilypond

@cindex durata senza altezza
@cindex durata isolata

Quanndo l'altezza non cambia, come sempre accade nel caso di note legate
con legatura di valore, le altezze successive possono essere omesse e basta
specificare la sola durata:

@lilypond[verbatim,quote]
\relative { g'4~ 4 c2~ | 4~ 8 a~ 2 | }
@end lilypond

Questa scorciatoia può essere utile in altre situazioni in cui il ritmo
cambia senza che l'altezza cambi; ma ricorda che un'altezza isolata seguita
da uno spazio e una durata isolata verrà interpretata come una singola nota.
In altre parole, @samp{c4 a 8 8} verrebbe interpretato come @samp{c4 a8 a8},
non come @samp{c4 a4 a8 a8}.  Scrivere invece @samp{c4 a4 8 8 }.


@node Slurs
@unnumberedsubsubsec Legature di portamento

Glossario musicale: @rglosnamed{slur,legatura di portamento}.

Una @notation{legatura di portamento} è una linea curva che collega più
note.  La nota iniziale e quella finale sono indicate rispettivamente
con @samp{(} e @samp{)}.  Notare che la parentesi di apertura @samp{(}
segue la prima nota della legatura.

@lilypond[verbatim,quote]
\relative { d''4( c16) cis( d e c cis d) e( d4) }
@end lilypond

@node Phrasing slurs
@unnumberedsubsubsec Legature di frase

Glossario musicale: @rglosnamed{slur,legatura di portamento},
@rglosnamed{phrasing,legatura di frase}.

Le legature di portamento che indicano una @notation{frase} più lunga
possono essere inserite con @code{\(} e @code{\)}.  E' possibile avere allo
stesso tempo sia le legature di portamento sia le legature di frase.

@lilypond[verbatim,quote]
\relative { g'4\( g8( a) b( c) b4\) }
@end lilypond

@smallspace


@node Warnings slurs vs ties
@unnumberedsubsubsec Attenzione: legature di portamento vs.@: legature di valore

@cindex legature di portamento vs. legature di valore

Glossario musicale: @rglosnamed{articulation,articolazione},
@rglosnamed{slur,legatura di portamento}, @rglosnamed{tie,legatura di valore}.

Una legatura di portamento ha lo stesso aspetto di una
legatura di valore, ma un significato diverso.  Una legatura
di valore rende semplicemente la nota più lunga, e può essere usata
solo con coppie di note della stessa altezza.  Le legature di portamento
indicano l'@notation{articolazione} delle note, e possono essere usate
con ampi gruppi di note.  Legature di valore e legature di portamento
possono essere annidate le une dentro le altre.

@lilypond[verbatim,quote]
\relative { c''4(~ c8 d~ 4 e) }
@end lilypond


@morerefs
Guida alla notazione:
@rnotationnamed{Ties, Legature di valore},
@rnotationnamed{Slurs, Legature di portamento},
@rnotationnamed{Phrasing slurs, Legature di frase}.
@endmorerefs


@node Articulations and dynamics
@subsection Articolazioni e dinamiche

Le articolazioni e le dinamiche si indicano aggiungendo dei segni speciali
dopo le note alle quali si applicano.


@node Articulations
@unnumberedsubsubsec Articolazioni

@cindex articolazione
@cindex accento
@cindex staccato

Glossario musicale: @rglosnamed{articulation,articolazione}.

Le @notation{articolazioni} di uso comune possono essere aggiunte a una nota
con una lineetta @samp{-} e un singolo carattere:

@lilypond[verbatim,quote]
\relative {
  c''4-^ c-+ c-- c-!
  c4-> c-. c2-_
}
@end lilypond

@node Fingerings
@unnumberedsubsubsec Diteggiature

@cindex diteggiatura

@funindex ^
@funindex _

Glossario musicale: @rglosnamed{fingering,diteggiatura}.

Analogalmente, le indicazioni di @notation{diteggiatura} possono essere
aggiunte a una nota con una lineetta (@samp{-}) e il numero che si
vuole visualizzare:

@lilypond[verbatim,quote]
\relative { c''4-3 e-5 b-2 a-1 }
@end lilypond

Articolazioni e diteggiature solitamente sono posizionate verticalmente in automatico, ma
si può specificarne la direzione sostituendo la lineetta (@samp{-}) con
@samp{^} (su) o @samp{_} (giù).  Si possono usare anche articolazioni
multiple sulla stessa nota.  Tuttavia, nella maggior parte dei casi è
meglio lasciare che sia LilyPond a determinare le direzioni delle articolazioni.

@lilypond[verbatim,quote]
\relative { c''4_-^1 d^. f^4_2-> e^-_+ }
@end lilypond

@node Dynamics
@unnumberedsubsubsec Dinamiche

@cindex dinamiche
@cindex decrescendo
@cindex crescendo

@funindex \f
@funindex \ff
@funindex \mp
@funindex \p
@funindex \mf
@funindex \pp
@funindex \<
@funindex \>
@funindex \!

Glossario musicale: @rglosnamed{dynamics,dinamiche}, @rglos{crescendo},
@rglos{decrescendo}.

I segni di @notation{dinamica} si ottengono aggiungendo alla nota
i simboli (preceduti da un segno di barra invertita, o backslash):

@lilypond[verbatim,quote]
\relative { c''2\ff c\mf c\p c\pp }
@end lilypond


@notation{Crescendi} e @notation{decrescendi} iniziano coi
comandi @code{\<} e @code{\>}.  Il seguente segno di dinamica, ad
esempio @code{\ff}, termina il (de)crescendo, oppure può essere usato
il comando @code{\!}:

@lilypond[verbatim,quote]
\relative { c''2\< c | c4\ff\> c c c\! }
@end lilypond


@morerefs
Guida alla notazione:
@rnotationnamed{Articulations and ornamentations, Articolazioni e abbellimenti},
@rnotationnamed{Fingering instructions, Indicazioni di diteggiatura},
@rnotationnamed{Dynamics, Dinamiche}.
@endmorerefs


@node Adding text
@subsection Aggiungere il testo

@cindex testo, aggiungere
@cindex aggiungere testo
@cindex markup

@funindex \markup

Puoi aggiungere del testo nei tuoi spartiti:

@lilypond[verbatim,quote]
\relative { c''2^"espr" a_"legato" }
@end lilypond

Per aggiungere delle formattazioni puoi usare il comando @code{\markup}:

@lilypond[verbatim,quote]
\relative {
  c''2^\markup { \bold espr }
  a2_\markup {
    \dynamic f \italic \small { 2nd } \hspace #0.1 \dynamic p }
}
@end lilypond

@morerefs
Guida alla notazione:
@rnotationnamed{Writing text, Inserimento del testo}.
@endmorerefs


@node Automatic and manual beams
@subsection Code automatiche e manuali

@cindex raggruppamento
@cindex code automatiche
@cindex code manuali
@cindex code, automatiche
@cindex code, manuali
@cindex code, a mano
@cindex travature

@funindex [ ... ]
@funindex [
@funindex ]
@funindex \autoBeamOff
@funindex \autoBeamOn

Glossario musicale: @rglosnamed{beam,travatura}.

Tutte le @notation{travature} vengono disegnate automaticamente:

@lilypond[verbatim,quote]
\relative { a'8 ais d ees r d c16 b a8 }
@end lilypond

Se le travature automatiche non soddisfano le proprie esigenze, è possibile
sovrascriverle manualmente.  Per correggere soltanto una singola travatura,
indicare la prima nota da raggruppare con @samp{[} e l'ultima con @samp{]}.
Notare che la parentesi di apertura @samp{[} segue la prima nota della
travatura.

@lilypond[verbatim,quote]
\relative { a'8[ ais] d[ ees r d] c16 b a8 }
@end lilypond

Se desideri disattivare il raggruppamento automatico, interamente o
per un'ampia sezione del brano, usa il comando @code{\autoBeamOff}
per disattivare il raggruppamento automatico e @code{\autoBeamOn} per
riattivarlo.

@lilypond[verbatim,quote]
\relative {
  \autoBeamOff
  a'8 c b4 d8. c16 b4 |
  \autoBeamOn
  a8 c b4 d8. c16 b4 |
}
@end lilypond


@morerefs
Guida alla notazione:
@rnotationnamed{Automatic beams, Travature automatiche},
@rnotationnamed{Manual beams, Travature manuali}.
@endmorerefs


@need 1500
@node Advanced rhythmic commands
@subsection Comandi di tempo avanzati


@node Partial measure
@unnumberedsubsubsec Battuta parziale

@cindex anacrusi
@cindex battuta parziale

@funindex \partial

Glossario musicale: @rglos{anacrusis}.

Un' @notation{anacrusi} può essere inserita con la parola chiave
@code{\partial}.  Questa è seguita da una durata: @samp{\partial 4}
è un'anacrusi di semiminima e @samp{\partial 8} di croma.

@lilypond[verbatim,quote]
\relative {
  \partial 8 f''8 |
  c2 d |
}
@end lilypond

@node Tuplets
@unnumberedsubsubsec Gruppi irregolari

@cindex gruppi irregolari
@cindex terzine

@funindex \tuplet

Glossario musicale: @rglosnamed{note value,durata},
@rglosnamed{triplet,gruppo irregolare}.

I @notation{gruppi irregolari} vengono preceduti dalla parola chiave
@code{\tuplet}.  Questa richiede due argomenti: una frazione e un frammento
di musica.  La frazione ha come numeratore il numero di note del
gruppo irregolare e come denominatore il numero di note che normalmente
occupa la stessa durata.  Per le terzine ci sono tre note invece di
due, quindi una @notation{terzina} ha 3/2 come frazione:

@lilypond[verbatim,quote]
\relative {
  \tuplet 3/2 { f''8 g a }
  \tuplet 3/2 { c8 r c }
  \tuplet 3/2 { f,8 g16[ a g a] }
  \tuplet 3/2 { d4 a8 }
}
@end lilypond

@node Grace notes
@unnumberedsubsubsec Abbellimenti

@cindex abbellimenti
@cindex acciaccatura
@cindex appoggiatura

@funindex \grace
@funindex \acciaccatura
@funindex \appoggiatura
@funindex acciaccatura

Glossario musicale: @rglosnamed{grace notes,abbellimenti}, @rglos{acciaccatura},
@rglos{appoggiatura}.

Gli @notation{abbellimenti} sono creati col comando @code{\grace},
ma possono essere creati anche ponendo davanti a un'espressione
musicale le parole chiave @code{\appoggiatura} o @code{\acciaccatura}:

@lilypond[verbatim,quote]
\relative {
  c''2 \grace { a32 b } c2 |
  c2 \appoggiatura b16 c2 |
  c2 \acciaccatura b16 c2 |
}
@end lilypond


@morerefs
Guida alla notazione:
@rnotationnamed{Grace notes, Abbellimenti},
@rnotationnamed{Tuplets, Gruppi irregolari},
@rnotationnamed{Upbeats, Anacrusi}.
@endmorerefs


@node Multiple notes at once
@section Note simultanee

Questa sezione spiega come inserire più note simultanee: molteplici
strumenti, molteplici righi di pentagramma per un singolo strumento
(es: piano), e accordi.

In musica per polifonia si intende la presenza di più di una voce
in un brano.  In LilyPond per polifonia si intende la presenza di
più di una voce sullo stesso pentagramma.


@node Music expressions explained
@subsection Espressioni musicali

@cindex espressione musicale
@cindex espressione musicale composta

Nei file di input di LilyPond, la musica è rappresentata dalle
@emph{espressioni musicali}.  Anche una singola nota è un'espressione
musicale:

@lilypond[verbatim,quote,fragment]
a'4
@end lilypond

Se si racchiude della musica tra parentesi si crea un'@emph{espressione
musicale composta}.  In questo esempio abbiamo creato un'espressione
musicale composta da due note:

@lilypond[verbatim,quote]
\relative { a'4 g4 }
@end lilypond

Se si mette un gruppo di espressioni musicali (es: note) tra parentesi,
significa che sono in sequenza (ovvero, ciascuna espressione segue la
precedente). Il risultato è un'altra espressione musicale:

@lilypond[verbatim,quote]
\relative { { a'4 g } f4 g }
@end lilypond


@node Analogy mathematic expressions
@unnumberedsubsubsec Analogia: le espressioni matematiche

Questo meccanismo è analogo a quello delle formule matematiche: una grande formula
può essere creata creando piccole formule.  Tali formule sono chiamate
espressioni, e possono contenere altre espressioni, così che sia possibile
costruire a piacere espressioni grandi e complesse.  Ad esempio,

@display
@math{1}
@math{1 + 2}
@math{(1 + 2) * 3}
@math{((1 + 2) * 3) / (4 * 5)}
@end display

@noindent

Questa è una sequenza di espressioni, dove ogni espressione è racchiusa
in quella successiva (più grande).  Le espressioni più semplici sono
i numeri, e quelle più grandi si ottengono combinando le espressioni con
gli operatori (come @math{+}, @math{*} e @math{/}) e le parentesi.
Come le espressioni matematiche, le espressioni musicali possono essere
annidate a qualsivoglia grado di profondità, e questo è indispensabile per
musica complessa come le partiture polifoniche.


@node Simultaneous music expressions multiple staves
@unnumberedsubsubsec Espressioni musicali simultanee: righi multipli

@cindex righi multipli
@cindex multipli, righi
@cindex polifonia
@cindex combinare le espressioni in parallelo
@cindex espressioni parallele
@cindex parallele, espressioni
@cindex note relative e musica simultanea
@cindex note relative e espressioni parallele
@cindex musica simultanea e note relative
@cindex espressioni parallele e note relative

@funindex <<
@funindex >>
@funindex << ... >>

Glossario musicale: @rglosnamed{polyphony,polifonia}.

Questa tecnica è utile per la musica @notation{polifonica}.  Per inserire
della musica che abbia più voci o più linee di pentagramma, basta combinare
le espressioni in parallelo.  Per indicare che le due voci devono suonare
contemporaneamente, basta inserire una combinazione simultanea di espressioni
musicali.  Un' espressione musicale @q{simultanea} si forma racchiudendo le
espressioni all'interno di @code{<<} e @code{>>}.  Nel seguente
esempio, tre sequenze (tutte contenenti due note
separate) vengono combinate in simultanea:

@lilypond[verbatim,quote]
<<
  \relative { a'2 g }
  \relative { f'2 e }
  \relative { d'2 b }
>>
@end lilypond

@noindent
Si noti che abbiamo indentato ogni livello dell'input con una diversa
quantità di spazi.  LilyPond non si preoccupa di quanto spazio c'è
all'inizio di una linea, tuttavia indentare il codice di LilyPond in
questo modo lo rende molto più semplice da leggere per l'essere umano.

@warning{Ogni nota è relativa alla nota precedente nell'input; la prima
in un blocco @code{@bs{}relative} è relativa al @samp{c} (un'ottava sotto
il Do@tie{}centrale).}


@node Simultaneous music expressions single staff
@unnumberedsubsubsec Espressioni musicali simultanee: rigo singolo

Per determinare il numero di pentagrammi in un brano, LilyPond guarda
l'inizio della prima espressione.  Se c'è una nota singola, ci sarà
un pentagramma; se c'è un'espressione simultanea, ci saranno più
pentagrammi.  L'esempio seguente mostra un'espressione
complessa, ma poiché inizia con una nota singola sarà impostata
su un singolo rigo.

@lilypond[verbatim,quote]
\relative {
  c''2 <<c e>> |
  << { e2 f } { c2 <<b d>> } >>
}
@end lilypond

@node Multiple staves
@subsection Righi multipli

@cindex righi multipli
@cindex multipli, righi
@cindex contesto
@cindex contesto, notazione
@cindex contesto della notazione

@funindex \new Staff
@funindex Staff
@funindex \new
@funindex Score
@funindex Voice
@funindex Lyrics
@funindex ChordNames

I file di input di LilyPond si costruiscono in base alle espressioni musicali
(@pxref{Music expressions explained}).  Se la partitura inizia con espressioni
musicali simultanee, LilyPond crea più di un rigo musicale.  Tuttavia, è
più facile vedere quel che accade se creiamo ogni rigo musicale esplicitamente.

Per ottenere più di un rigo musicale, ogni brano musicale che costituisce
un rigo è contrassegnato da @code{\new Staff}.  Questi elementi
@code{Staff} vengono poi combinati in parallelo con @code{<<}
e @code{>>}:

@lilypond[verbatim,quote]
<<
  \new Staff { \clef treble c''4 }
  \new Staff { \clef bass c4 }
>>
@end lilypond

Il comando @code{\new} introduce un @q{contesto di notazione}.  Un
contesto è un ambiente in cui vengono interpretati gli eventi musicali
(come le note o i comandi @code{\clef}).  Nel caso di brani semplici,
tali contesti vengono creati automaticamente.  Per brani più complessi,
è meglio contrassegnare esplicitamente i contesti.

Ci sono vari tipi di contesto.  @code{Score}, @code{Staff},
e @code{Voice} gestiscono la notazione melodica, mentre @code{Lyrics} imposta
i testi e @code{ChordNames} visualizza i nomi degli accordi.

In termini di sintassi, se si inserisce @code{\new} prima di un'espressione
musicale, si crea un'espressione musicale più grande.  In questo modo
assomiglia al segno di minore in matematica.  La formula @math{(4+5)} è
un'espressione, quindi @math{-(4+5)} è un'espressione più grande.

Le indicazioni di tempo inserite in un rigo musicale si estendono
a tutti gli altri righi.  L'armatura di chiave di un rigo, invece,
@emph{non} si estende agli altri.  Questo diverso comportamento predefinito
è dovuto al fatto che le partiture con strumenti traspositori sono molto più
frequenti delle partiture poliritmiche.

@lilypond[verbatim,quote]
<<
  \new Staff { \clef treble \key d \major \time 3/4 c''4 }
  \new Staff { \clef bass c4 }
>>
@end lilypond




@node Staff groups
@subsection Gruppi di pentagrammi

@cindex pentagramma per piano
@cindex piano, pentagramma per
@cindex pentagramma per coro
@cindex coro, pentagramma per
@cindex accollatura
@cindex gruppo di pentagrammi

@funindex PianoStaff
@funindex GrandStaff
@funindex ChoirStaff

Glossario musicale:
@rglosnamed{brace,graffa},
@rglosnamed{staff,pentagramma o rigo},
@rglosnamed{system,sistema}.

La musica per pianoforte viene stampata su due righi musicali collegati
con una @notation{graffa}.
Produrre un pentagramma di questo tipo è simile alla musica polifonica
su righi multipli (@pxref{Multiple staves}).  In questo caso, però, l'intera espressione
è inserita in un rigo @code{PianoStaff}:

@example
\new PianoStaff <<
  \new Staff @dots{}
  \new Staff @dots{}
>>
@end example

Ecco un piccolo esempio:

@lilypond[verbatim,quote]
\new PianoStaff <<
  \new Staff \relative { \time 2/4 c''4 e | g g, | }
  \new Staff \relative { \clef bass c4 c' | e c | }
>>
@end lilypond

Altri raggruppamenti di pentagrammi vengono preceduti da @code{\new GrandStaff},
per le partiture orchestrali, e da @code{\new ChoirStaff},
per le partiture corali.  Ognuno di questi gruppi di pentagramma
costituiscono un altro tipo di contesto, un contesto che genera la graffa
sul lato sinistro di ogni sistema e controlla inoltre l'estensione
delle linee della battuta.


@morerefs
Guida alla notazione:
@rnotationnamed{Keyboard and other multi-staff instruments, Tastiera e altri strumenti multirigo},
@rnotationnamed{Displaying staves, Aspetto del rigo}.
@endmorerefs


@node Combining notes into chords
@subsection Combinare le note negli accordi

Glossario musicale: @rglosnamed{chord,accordo}.

@cindex accordi
@cindex durate delle note negli accordi

@funindex <
@funindex >
@funindex < ... >
@funindex q

Abbiamo visto in precedenza come le note possano essere combinate in
@notation{accordi}: racchiudendole tra parentesi a doppi angoli abbiamo
indicato che sono simultanee.  Tuttavia, il modo normale di produrre un
accordo è quello di circondare le note con delle parentesi ad angolo
@emph{singolo}. Si noti che tutte le note in un accordo devono avere la
stessa durata, e che la durata è posta @emph{dopo} la parentesi chiusa.

@lilypond[verbatim,quote]
\relative { r4 <c'' e g> <c f a>2 }
@end lilypond

Pensa agli accordi come a qualcosa di equivalente alle note singole:
quasi ogni cosa che puoi attaccare a una nota singola può essere attaccata
a un accordo, e di solito tutto questo deve essere messo @emph{fuori} dalle parentesi
angolari.  Ad esempio, con gli accordi si possono combinare simboli come
le travature e le legature di valore.

@lilypond[verbatim,quote]
\relative {
  r4 <c'' e g>~ <c f a>2 |
  <c e g>8[ <c f a> <c e g> <c f a>]
    <c e g>8\>[ <c f a> q q]\! |
  r4 <c e g>8.\p q16( q4-. <c f a>) |
}
@end lilypond

@cindex accordo, ripetizione
@cindex ripetizione degli accordi

@noindent
L'esempio precedente mostra anche una funzionalità molto utile: un accordo
può essere ripetuto usando il simbolo @samp{q}.  Funziona anche se inframezzato
da note singole.

@lilypond[verbatim,quote]
\relative { c'8 <e g>8 q q g, q q q }
@end lilypond

@morerefs
Guida alla notazione:
@rnotationnamed{Chorded notes, Note in un accordo}.
@endmorerefs


@node Single staff polyphony
@subsection Polifonia su un singolo rigo

@cindex polifonia
@cindex voci multiple
@cindex voci, più su un rigo
@cindex polifonia su un singolo rigo
@cindex pausa spaziatrice
@cindex spaziatrice, pausa

@funindex << ... \\ ... >>
@funindex <<
@funindex \\
@funindex >>

La musica polifonica in LilyPond, per quanto non difficile, fa
riferimento a concetti non ancora affrontati, quindi non la
presenteremo subito.  Saranno le sezioni successive a introdurre
le basi di questi concetti e a spiegarli via via.

@morerefs
Manuale di Apprendimento:
@ref{Voices contain music}.

Guida alla notazione:
@rnotationnamed{Simultaneous notes, Note simultanee}.
@endmorerefs


@node Songs
@section Canzoni

Questa sezione presenta la musica vocale e gli spartiti di semplici canzoni.


@node Setting simple songs
@subsection Impostare canzoni semplici

@cindex testi
@cindex canzoni

@funindex \addlyrics

Glossario musicale: @rglosnamed{lyrics,testo}.

Questo è l'inizio della melodia di una
filastrocca, @emph{Girls and boys come out to play}:

@lilypond[verbatim,quote]
\relative {
  \key g \major
  \time 6/8
  d''4 b8 c4 a8 | d4 b8 g4
}
@end lilypond

I @notation{testi} possono essere collegati a queste note, combinandoli
a esse per mezzo della parola chiave @code{\addlyrics}.  I testi si inseriscono
separando ogni sillaba con uno spazio.

@lilypond[verbatim,quote]
<<
  \relative {
    \key g \major
    \time 6/8
    d''4 b8 c4 a8 | d4 b8 g4
  }
  \addlyrics {
    Girls and boys come | out to play,
  }
>>
@end lilypond

@noindent
Si notino le doppie parentesi ad angolo @code{<<@tie{}@dots{}@tie{}>>} che circondano
l'intero brano per indicare che la musica e il testo devono trovarsi
in simultanea.

@node Aligning lyrics to a melody
@subsection Allineare il testo alla melodia

@cindex melisma
@cindex linea di estensione
@cindex trattini
@cindex trattino basso
@cindex testo, allineare
@cindex allineare il testo
@cindex testo, parole polisillabiche
@cindex parole con sillabe multiple nel testo

Glossario musicale: @rglos{melisma}, @rglosnamed{extender line,linea di estensione}.

La prossima riga della filastrocca è @emph{The moon doth
shine as bright as day}.  Aggiungiamola:

@lilypond[verbatim,quote]
<<
  \relative {
    \key g \major
    \time 6/8
    d''4 b8 c4 a8 | d4 b8 g4 g8 |
    a4 b8 c b a | d4 b8 g4. |
  }
  \addlyrics {
    Girls and boys come | out to play,
    The | moon doth shine as | bright as day; |
  }
>>
@end lilypond

Osservando lo spartito, si può vedere che il testo aggiunto non risulta ben allineato
alle note.  La parola @emph{shine} dovrebbe essere cantata su due note, non
una.  Questo si chiama @notation{melisma}, una singola sillaba che viene
cantata per più di una nota.  Ci sono molti modi per estendere una sillaba
su molteplici note, e il più semplice è aggiungere una legatura di portamento
che le colleghi. Per maggiori informazioni, @xref{Ties and slurs}.

@lilypond[verbatim,quote]
<<
  \relative {
    \key g \major
    \time 6/8
    d''4 b8 c4 a8 | d4 b8 g4 g8 |
    a4 b8 c( b) a | d4 b8 g4. |
  }
  \addlyrics {
    Girls and boys come | out to play,
    The | moon doth shine as | bright as day; |
  }
>>
@end lilypond

Adesso le parole sono allineate correttamente con le note, ma il raggruppamento
automatico per le note che si trovano sopra @emph{shine as} non ha un
aspetto corretto.  Possiamo correggerlo inserendo i comandi per il raggruppamento
manuale così da scavalcare, in questo caso, il raggruppamento automatico. Per
maggiori informazioni, @xref{Automatic and manual beams}.

@lilypond[verbatim,quote]
<<
  \relative {
    \key g \major
    \time 6/8
    d''4 b8 c4 a8 | d4 b8 g4 g8 |
    a4 b8 c([ b]) a | d4 b8 g4. |
  }
  \addlyrics {
    Girls and boys come | out to play,
    The | moon doth shine as | bright as day; |
  }
>>
@end lilypond

Come alternativa all'uso delle legature di portamento, si possono indicare
i melismi nel testo stesso, usando il trattino basso @samp{_} per ogni nota
che si voglia includere nel melisma.

@lilypond[verbatim,quote]
<<
  \relative {
    \key g \major
    \time 6/8
    d''4 b8 c4 a8 | d4 b8 g4 g8 |
    a4 b8 c[ b] a | d4 b8 g4. |
  }
  \addlyrics {
    Girls and boys come | out to play,
    The | moon doth shine _ as | bright as day; |
  }
>>
@end lilypond

Se una sillaba si estende per molte note o per una singola nota molto
lunga, solitamente viene disegnata una @notation{linea di estensione}
che va dalla sillaba e si estende per tutte le note comprese in quella
sillaba.  Si scrive con due trattini bassi (@code{__}).  È importante
che i trattini bassi siano separati con uno o più spazi dalla sillaba
che precede (e che segue).

Il seguente esempio è tratto dalle prime tre battute del @emph{Lamento di Didone},
dall'opera @emph{Didone ed Enea} di Purcell:

@c no ragged-right here to get less dense formatting
@lilypond[verbatim,quote,noragged-right]
<<
  \relative {
    \key g \minor
    \time 3/2
    g'2 a bes | bes2( a) b2 |
    c4.( bes8 a4. g8 fis4.) g8 | fis1
  }
  \addlyrics {
    When I am | laid,
    am | laid __ in | earth,
  }
>>
@end lilypond

Nessuno degli esempi visti finora ha comportato l'uso di parole aventi
più di una sillaba.  Tali parole vengono solitamente suddivise una sillaba
per nota, con trattini posti tra le sillabe.  Tali trattini vengono inseriti con
due lineette consecutive (@code{--}), e producono un trattino centrato tra le sillabe.
È importante che i trattini siano separati con uno o più spazi dalla sillaba
precedente e seguente.

Ecco un esempio che, oltre a questo, mostra tutto quello che abbiamo imparato
finora sull'allineamento del testo con le note.

@c no ragged-right here because otherwise the hyphens get lost,
@c but the example is long enough to avoid looking strange.
@lilypond[verbatim,quote,noragged-right]
<<
  \relative {
    \key g \major
    \time 3/4
    \partial 4
    d'4 | g4 g a8( b) | g4 g b8( c) |
    d4 d e | c2
  }
  \addlyrics {
    A -- | way in a __ | man -- ger,
    no __ | crib for a | bed, __
  }
>>
@end lilypond

Alcuni testi, specialmente quelli in italiano, richiedono l'opposto:
associare più di una sillaba a una singola nota.  Questo può essere
ottenuto collegando le sillabe insieme con un singolo trattino
basso (@samp{_}, senza spazi), o includendole tra virgolette.
Ecco un esempio tratto dall'opera @notation{Il barbiere di Siviglia} di Rossini, dove
@emph{al} deve essere cantato sulla stessa nota del @emph{go} di
@emph{Largo}, nell'aria di Figaro @notation{Largo al factotum}:

@c no ragged-right here because otherwise the hyphens get lost,
@c but the example is long enough to avoid looking strange.
@lilypond[verbatim,quote,noragged-right]
<<
  \relative {
    \clef bass
    \key c \major
    \time 6/8
    c'4.~ 8 d b | c8([ d]) b c d b | c8
  }
  \addlyrics {
    Lar -- go_al fac -- | to -- tum del -- la cit -- | tà
  }
>>
@end lilypond


@morerefs
Guida alla notazione:
@rnotationnamed{Vocal music, Musica vocale}.
@endmorerefs


@node Lyrics to multiple staves
@subsection Testo su più righi

@cindex testo e righi multipli
@cindex righi multipli e testo

Per porre lo stesso testo sotto più righi musicali, si può usare un approccio
più semplice, ovvero @code{\addlyrics}.  Ecco un esempio tratto dall'oratorio
@emph{Judas Maccabæus} di Handel:

@c no ragged-right here to make hyphens more prominent.
@lilypond[verbatim,quote,noragged-right]
<<
  \relative {
    \key f \major
    \time 6/8
    \partial 8
    c''8 | c8([ bes]) a a([ g]) f | f'4. b, | c4.~ 4
  }
  \addlyrics {
    Let | flee -- cy flocks the | hills a -- | dorn, __
  }
  \relative {
    \key f \major
    \time 6/8
    \partial 8
    r8 | r4. r4 c'8 | a'8([ g]) f f([ e]) d | e8([ d]) c bes'4
  }
  \addlyrics {
    Let | flee -- cy flocks the | hills a -- dorn,
  }
>>
@end lilypond

Per scrivere partiture un po' più complesse di questi semplici esempi,
è meglio separare la struttura dello spartito dalle note e dai testi
mediante l'uso di variabili. Per un'introduzione,
@xref{Organizing pieces with variables}.


@morerefs
Guida alla notazione:
@rnotationnamed{Vocal music, Musica vocale}.
@endmorerefs


@node Final touches
@section Ritocchi finali

Questa è la sezione finale della guida; spiega come dare gli ultimi
ritocchi a semplici pezzi, e fornisce un'introduzione
al resto del manuale.


@node Organizing pieces with variables
@subsection Organizzare i brani con le variabili

@cindex variabili
@cindex variabili, definire
@cindex identificatori
@cindex macro
@cindex assegnare le variabili
@cindex usare le variabili
@cindex variabili, usare
@cindex variabili, caratteri permessi nelle
@cindex caratteri permessi nelle variabili
@cindex variabili contenenti espressioni musicali

Quando tutti gli elementi discussi precedentemente vengono combinati insieme
per produrre file di maggiori dimensioni, anche le espressioni musicali
diventano molto più grandi.  Nella musica polifonica con molti righi musicali,
i file di input possono diventare molto confusi.  Possiamo ridurre tale
confusione attraverso l'uso delle @emph{variabili}.

Con le variabili (conosciute anche come identificatori o macro), possiamo
scomporre le espressioni musicali complesse.  Una variabile viene assegnata
nel seguente modo:

@example
namedMusic = @{ @dots{} @}
@end example

I contenuti dell'espressione musicale @code{namedMusic} possono essere
usati in seguito ponendo una barra inversa (backslash) di fronte al nome
(@code{\namedMusic}), proprio come in un normale comando LilyPond.

@lilypond[verbatim,quote]
violin = \new Staff {
  \relative {
    a'4 b c b
  }
}
cello = \new Staff {
  \relative {
    \clef bass
    e2 d
  }
}
{
  <<
    \violin
    \cello
  >>
}
@end lilypond

Per convenzione, il nome di una variabile è composto soltanto da caratteri
alfabetici.  Informazioni più dettagliate in @rnotationnamed{File structure, Struttura del file}.

Le variabili devono essere definite @emph{prima} della principale espressione
musicale, ma possono poi essere usate quante volte si vuole e ovunque, una
volta definite.  Possono essere usate anche all'interno della definizione di
un'altra variabile successiva, dando la possibilità di accorciare l'input se
una sezione della musica viene ripetuta molte volte.

@lilypond[verbatim,quote]
tripletA = \tuplet 3/2 { c,8 e g }
barA = { \tripletA \tripletA \tripletA \tripletA }

\relative c'' {
  \barA \barA
}
@end lilypond

Le variabili possono essere utilizzate per molti tipi di oggetto
nell'input.  Ad esempio,

@example
larghezza = 60        % un numero da passare a una variabile di \paper
                      % (l'unità di misura è il millimetro)
nome = "Wendy"        % una stringa da passare a un markup
foglioA5 = \paper @{ #(set-paper-size "a5") @}
@end example

A seconda dei suoi contesti, la variabile può essere usata in punti
differenti.  L'esempio seguente usa le variabili mostrate sopra:

@example
\paper @{
  \foglioA5
  line-width = \larghezza
@}
@{
  c4^\nome
@}
@end example


@node Adding titles
@subsection Aggiungere i titoli

@cindex titolo
@cindex intestazioni
@cindex blocco dell'intestazione

@funindex \header

Titolo, compositore, numero di opus e informazioni simili vengono
inserite nel blocco @code{\header}.  Questo si trova fuori dalla
principale espressione musicale; il blocco @code{\header} viene solitamente
posto sotto il numero di versione.

@example
\version @w{"@version{}"}
\header @{
  title = "Symphony"
  composer = "Me"
  opus = "Op. 9"
@}

@{
  @dots{} music @dots{}
@}
@end example

@noindent
Quando il file viene elaborato, sopra la musica vengono visualizzati
il titolo e il compositore.  Si possono trovare  maggiori informazioni
sui titoli in @rnotationnamed{Creating titles headers and footers, Creazione di titoli intestazioni e piè di pagina}.


@node Absolute note names
@subsection Nomi assoluti delle note

@cindex nomi delle note
@cindex nomi delle note, assoluti
@cindex modo assoluto
@cindex valori assoluti per le altezze
@cindex altezze, valori assoluti
@cindex nomi assoluti delle note

Finora abbiamo usato @code{\relative} per definire le altezze.
Questo è di  solito il modo più veloce per inserire gran parte della musica.
Se non viene usato @code{\relative}, le altezze vengono interpretate in
modo assoluto.

In questa modalità, LilyPond tratta tutte le altezze come
valori assoluti: un @samp{c'} si riferirà sempre al Do@tie{}centrale, un
@samp{b} si riferirà sempre alla nota che si trova un semitono sotto il
Do@tie{}centrale, e un @samp{g,} indicherà sempre la nota sulla linea
più bassa di un rigo in chiave di basso.

@lilypond[verbatim,quote]
{
  \clef bass
  c'4 b g, g, |
  g,4 f, f c' |
}
@end lilypond

Scrivere una melodia in chiave di violino richiede un ampio uso di
virgolette @samp{'}.  Si consideri questo frammento tratto da Mozart:

@lilypond[verbatim,quote]
{
  \key a \major
  \time 6/8
  cis''8. d''16 cis''8 e''4 e''8 |
  b'8. cis''16 b'8 d''4 d''8 |
}
@end lilypond

@funindex \fixed

I segni di ottava possono essere indicati solo una volta usando il comando
@code{\fixed} seguito da un'altezza di riferimento:

@lilypond[verbatim,quote]
\fixed c'' {
  \key a \major
  \time 6/8
  cis8. d16 cis8 e4 e8 |
  b,8. cis16 b,8 d4 d8 |
}
@end lilypond

Usando @code{\relative}, l'esempio precedente non ha bisogno di segni di
ottava perché qusta melodia si muove per gradi inferiori alle tre posizioni
del rigo:

@lilypond[verbatim,quote]
\relative {
  \key a \major
  \time 6/8
  cis''8. d16 cis8 e4 e8
  b8. cis16 b8 d4 d8
}
@end lilypond

Se si fa un errore con un segno di ottava (@samp{'} o @samp{,})
quando si lavora col modo @code{\relative}, è molto evidente -- tante
note saranno nell'ottava sbagliata.  Quando si lavora in modo assoluto,
un singolo errore non sarà tanto visibile, e non sarà così facile da
trovare.

Tuttavia, il modo assoluto è utile per la musica che fa uso di ampi
intervalli, e lo è ancora di più per i file LilyPond generati dal
computer.  Quando si tagliano e si incollano frammenti della melodia,
il modo assoluto preserva l'ottava originale.

Talvolta la musica è organizzata in modi più complessi.  Se si usa
@code{\relative} all'interno di un altro @code{\relative}, ciascuna sezione
@code{\relative} è indipendente:

@lilypond[verbatim,quote]
\relative { c'4 \relative { f'' g } c }
@end lilypond

Per usare la modalità assoluta all'interno di @code{\relative}, inserire
la musica assoluta dentro @code{\fixed c @{ @dots{}@tie{}@}} e le altezze
assolute non avranno effetto sulle ottave della musica inserita con la
modalità relativa:

@lilypond[verbatim,quote]
\relative {
  c'4 \fixed c { f'' g'' } c |
  c4 \fixed c'' { f g } c
}
@end lilypond


@node After the tutorial
@subsection Dopo il tutorial

Dopo aver finito di leggere la guida, probabilmente dovresti cercare
di scrivere uno o due brani.  Puoi iniziare aggiungendo delle note a uno
dei modelli (@pxref{Templates}).  Se necessiti di una qualche notazione che non è
stata coperta nel tutorial, dai un'occhiata alla Guida alla notazione,
a cominciare da @rnotationnamed{Musical notation, Notazione musicale}.  Se vuoi scrivere per un gruppo
di strumenti che non è incluso nei modelli, dai un'occhiata a
@pxref{Extending the templates}.

Una volta che hai scritto alcuni brevi pezzi, puoi proseguire la lettura
del Manuale di Apprendimento (capitoli 3--5).  Ovviamente non c'è niente
di male nel leggerli subito!  Però tieni conto che la parte restante del
Manuale di Apprendimento parte dal presupposto che tu abbia già confidenza
con l'input di LilyPond.  Puoi saltare questi capitoli adesso, e tornare
a leggerli quando ti sarai fatto un po' di esperienza.

In questo tutorial e nel resto del Manuale di Apprendimento, alla fine di
ogni sezione c'è un paragrafo @strong{Vedi anche}, che contiene
riferimenti incrociati ad altre sezioni: non dovresti seguire questi
riferimenti quando leggi il manuale per la prima volta; quando avrai completato
la lettura di tutto il Manuale di Apprendimento, potrai rileggere alcune
sezioni e seguire i riferimenti incrociati per letture di approfondimento.

Se non lo hai già fatto, @emph{ti consigliamo} di leggere
@ref{Overview of manuals}.  Contiene molte informazioni su LilyPond,
ed è quindi utile per i nuovi utenti, che spesso non sanno dove cercare
aiuto.  Se dedichi cinque  minuti all'attenta lettura di quella sezione,
potresti risparmiarti ore di frustrazione sprecate a guardare in posti sbagliati!

